(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-commons"],{"0424":function(e,t,a){"use strict";a("ce0b")},"095a":function(e,t,a){"use strict";a("d34f")},"0f88":function(e,t,a){"use strict";a.r(t),t["default"]={"list-type":function(e,t,a){var r=[],i=t.__config__;return"picture-card"===t["list-type"]?r.push(e("i",{class:"el-icon-plus"})):r.push(e("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-upload"}},[i.buttonText])),i.showTip&&r.push(e("div",{slot:"tip",class:"el-upload__tip"},["只能上传不超过 ",i.fileSize,i.sizeUnit," 的",t.accept,"文件"])),r}}},"167d":function(e,t,a){"use strict";a.r(t),t["default"]={prepend:function(e,t,a){return e("template",{slot:"prepend"},[t.__slot__[a]])},append:function(e,t,a){return e("template",{slot:"append"},[t.__slot__[a]])}}},2087:function(e,t,a){},2730:function(e){e.exports=JSON.parse('{"name":"Flowable","uri":"http://flowable.org/bpmn","prefix":"flowable","xml":{"tagAlias":"lowerCase"},"associations":[],"types":[{"name":"InOutBinding","superClass":["Element"],"isAbstract":true,"properties":[{"name":"source","isAttr":true,"type":"String"},{"name":"sourceExpression","isAttr":true,"type":"String"},{"name":"target","isAttr":true,"type":"String"},{"name":"businessKey","isAttr":true,"type":"String"},{"name":"local","isAttr":true,"type":"Boolean","default":false},{"name":"variables","isAttr":true,"type":"String"}]},{"name":"In","superClass":["InOutBinding"],"meta":{"allowedIn":["bpmn:CallActivity"]}},{"name":"Out","superClass":["InOutBinding"],"meta":{"allowedIn":["bpmn:CallActivity"]}},{"name":"AsyncCapable","isAbstract":true,"extends":["bpmn:Activity","bpmn:Gateway","bpmn:Event"],"properties":[{"name":"async","isAttr":true,"type":"Boolean","default":false},{"name":"asyncBefore","isAttr":true,"type":"Boolean","default":false},{"name":"asyncAfter","isAttr":true,"type":"Boolean","default":false},{"name":"exclusive","isAttr":true,"type":"Boolean","default":true}]},{"name":"flowable:in","superClass":["Element"],"properties":[{"name":"source","type":"string","isAttr":true},{"name":"target","type":"string","isAttr":true}]},{"name":"flowable:out","superClass":["Element"],"properties":[{"name":"source","type":"string","isAttr":true},{"name":"target","type":"string","isAttr":true}]},{"name":"BoundaryEvent","superClass":["CatchEvent"],"properties":[{"name":"cancelActivity","default":true,"isAttr":true,"type":"Boolean"},{"name":"attachedToRef","type":"Activity","isAttr":true,"isReference":true}]},{"name":"JobPriorized","isAbstract":true,"extends":["bpmn:Process","flowable:AsyncCapable"],"properties":[{"name":"jobPriority","isAttr":true,"type":"String"}]},{"name":"SignalEventDefinition","isAbstract":true,"extends":["bpmn:SignalEventDefinition"],"properties":[{"name":"async","isAttr":true,"type":"Boolean","default":false}]},{"name":"ErrorEventDefinition","isAbstract":true,"extends":["bpmn:ErrorEventDefinition"],"properties":[{"name":"errorCodeVariable","isAttr":true,"type":"String"},{"name":"errorMessageVariable","isAttr":true,"type":"String"}]},{"name":"Error","isAbstract":true,"extends":["bpmn:Error"],"properties":[{"name":"flowable:errorMessage","isAttr":true,"type":"String"}]},{"name":"PotentialStarter","superClass":["Element"],"properties":[{"name":"resourceAssignmentExpression","type":"bpmn:ResourceAssignmentExpression"}]},{"name":"UserTask","isAbstract":true,"extends":["bpmn:UserTask"],"properties":[{"name":"timerEventDefinition","type":"Expression"},{"name":"multiInstanceLoopCharacteristics","type":"MultiInstanceLoopCharacteristics"}]},{"name":"StartEvent","isAbstract":true,"extends":["bpmn:StartEvent"],"properties":[{"name":"timerEventDefinition","type":"Expression"}]},{"name":"FormSupported","isAbstract":true,"extends":["bpmn:StartEvent","bpmn:UserTask"],"properties":[{"name":"formHandlerClass","isAttr":true,"type":"String"},{"name":"formKey","isAttr":true,"type":"String"}]},{"name":"TemplateSupported","isAbstract":true,"extends":["bpmn:Process","bpmn:FlowElement"],"properties":[{"name":"modelerTemplate","isAttr":true,"type":"String"}]},{"name":"Initiator","isAbstract":true,"extends":["bpmn:StartEvent"],"properties":[{"name":"initiator","isAttr":true,"type":"String"}]},{"name":"ScriptTask","isAbstract":true,"extends":["bpmn:ScriptTask"],"properties":[{"name":"resultVariable","isAttr":true,"type":"String"},{"name":"resource","isAttr":true,"type":"String"}]},{"name":"Process","isAbstract":true,"extends":["bpmn:Process"],"properties":[{"name":"candidateStarterGroups","isAttr":true,"type":"String"},{"name":"candidateStarterUsers","isAttr":true,"type":"String"},{"name":"versionTag","isAttr":true,"type":"String"},{"name":"historyTimeToLive","isAttr":true,"type":"String"},{"name":"isStartableInTasklist","isAttr":true,"type":"Boolean","default":true}]},{"name":"EscalationEventDefinition","isAbstract":true,"extends":["bpmn:EscalationEventDefinition"],"properties":[{"name":"escalationCodeVariable","isAttr":true,"type":"String"}]},{"name":"FormalExpression","isAbstract":true,"extends":["bpmn:FormalExpression"],"properties":[{"name":"resource","isAttr":true,"type":"String"}]},{"name":"Assignable","extends":["bpmn:UserTask"],"properties":[{"name":"candidateGroups","isAttr":true,"type":"String"},{"name":"dueDate","isAttr":true,"type":"String"},{"name":"followUpDate","isAttr":true,"type":"String"},{"name":"priority","isAttr":true,"type":"String"}]},{"name":"CallActivity","extends":["bpmn:CallActivity"],"properties":[{"name":"calledElementBinding","isAttr":true,"type":"String","default":"latest"},{"name":"calledElementVersion","isAttr":true,"type":"String"},{"name":"calledElementVersionTag","isAttr":true,"type":"String"},{"name":"calledElementTenantId","isAttr":true,"type":"String"},{"name":"caseRef","isAttr":true,"type":"String"},{"name":"caseBinding","isAttr":true,"type":"String","default":"latest"},{"name":"caseVersion","isAttr":true,"type":"String"},{"name":"caseTenantId","isAttr":true,"type":"String"},{"name":"variableMappingClass","isAttr":true,"type":"String"},{"name":"variableMappingDelegateExpression","isAttr":true,"type":"String"}]},{"name":"ServiceTaskLike","extends":["bpmn:ServiceTask","bpmn:BusinessRuleTask","bpmn:SendTask","bpmn:MessageEventDefinition"],"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"resultVariable","isAttr":true,"type":"String"}]},{"name":"ExclusiveGateway","isAbstract":true,"extends":["bpmn:ExclusiveGateway"],"properties":[{"name":"serviceClass","isAttr":true,"type":"String"}]},{"name":"DmnCapable","extends":["bpmn:BusinessRuleTask"],"properties":[{"name":"decisionRef","isAttr":true,"type":"String"},{"name":"decisionRefBinding","isAttr":true,"type":"String","default":"latest"},{"name":"decisionRefVersion","isAttr":true,"type":"String"},{"name":"mapDecisionResult","isAttr":true,"type":"String","default":"resultList"},{"name":"decisionRefTenantId","isAttr":true,"type":"String"}]},{"name":"ExternalCapable","extends":["flowable:ServiceTaskLike"],"properties":[{"name":"type","isAttr":true,"type":"String"},{"name":"topic","isAttr":true,"type":"String"}]},{"name":"TaskPriorized","extends":["bpmn:Process","flowable:ExternalCapable"],"properties":[{"name":"taskPriority","isAttr":true,"type":"String"}]},{"name":"Properties","superClass":["Element"],"meta":{"allowedIn":["*"]},"properties":[{"name":"values","type":"Property","isMany":true}]},{"name":"Property","superClass":["Element"],"properties":[{"name":"id","type":"String","isAttr":true},{"name":"name","type":"String","isAttr":true},{"name":"value","type":"String","isAttr":true}]},{"name":"Connector","superClass":["Element"],"meta":{"allowedIn":["flowable:ServiceTaskLike"]},"properties":[{"name":"inputOutput","type":"InputOutput"},{"name":"connectorId","type":"String"}]},{"name":"InputOutput","superClass":["Element"],"meta":{"allowedIn":["bpmn:FlowNode","flowable:Connector"]},"properties":[{"name":"inputOutput","type":"InputOutput"},{"name":"connectorId","type":"String"},{"name":"inputParameters","isMany":true,"type":"InputParameter"},{"name":"outputParameters","isMany":true,"type":"OutputParameter"}]},{"name":"InputOutputParameter","properties":[{"name":"name","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"},{"name":"definition","type":"InputOutputParameterDefinition"}]},{"name":"InputOutputParameterDefinition","isAbstract":true},{"name":"List","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"items","isMany":true,"type":"InputOutputParameterDefinition"}]},{"name":"Map","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"entries","isMany":true,"type":"Entry"}]},{"name":"Entry","properties":[{"name":"key","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"},{"name":"definition","type":"InputOutputParameterDefinition"}]},{"name":"Value","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"id","isAttr":true,"type":"String"},{"name":"name","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"}]},{"name":"Script","superClass":["InputOutputParameterDefinition"],"properties":[{"name":"scriptFormat","isAttr":true,"type":"String"},{"name":"resource","isAttr":true,"type":"String"},{"name":"value","isBody":true,"type":"String"}]},{"name":"Field","superClass":["Element"],"meta":{"allowedIn":["flowable:ServiceTaskLike","flowable:ExecutionListener","flowable:TaskListener"]},"properties":[{"name":"name","isAttr":true,"type":"String"},{"name":"expression","isAttr":true,"type":"expression"},{"name":"string","type":"string"},{"name":"stringValue","isAttr":true,"type":"String"}]},{"name":"string","superClass":["Element"],"meta":{"allowedIn":["flowable:Field"]},"properties":[{"name":"body","isBody":true,"type":"String"}]},{"name":"expression","superClass":["Element"],"meta":{"allowedIn":["flowable:Field"]},"properties":[{"name":"body","isBody":true,"type":"String"}]},{"name":"InputParameter","superClass":["InputOutputParameter"]},{"name":"OutputParameter","superClass":["InputOutputParameter"]},{"name":"Collectable","isAbstract":true,"extends":["bpmn:MultiInstanceLoopCharacteristics"],"superClass":["flowable:AsyncCapable"],"properties":[{"name":"collection","isAttr":true,"type":"String"},{"name":"elementVariable","isAttr":true,"type":"String"}]},{"name":"SequenceFlow","superClass":["FlowElement"],"properties":[{"name":"isImmediate","isAttr":true,"type":"Boolean"},{"name":"conditionExpression","type":"Expression"},{"name":"sourceRef","type":"FlowNode","isAttr":true,"isReference":true},{"name":"targetRef","type":"FlowNode","isAttr":true,"isReference":true}]},{"name":"MultiInstanceLoopCharacteristics","superClass":["LoopCharacteristics"],"properties":[{"name":"isSequential","default":false,"isAttr":true,"type":"Boolean"},{"name":"behavior","type":"MultiInstanceBehavior","default":"All","isAttr":true},{"name":"loopCardinality","type":"Expression","xml":{"serialize":"xsi:type"}},{"name":"loopDataInputRef","type":"ItemAwareElement","isReference":true},{"name":"loopDataOutputRef","type":"ItemAwareElement","isReference":true},{"name":"inputDataItem","type":"DataInput","xml":{"serialize":"property"}},{"name":"outputDataItem","type":"DataOutput","xml":{"serialize":"property"}},{"name":"complexBehaviorDefinition","type":"ComplexBehaviorDefinition","isMany":true},{"name":"completionCondition","type":"Expression","xml":{"serialize":"xsi:type"}},{"name":"oneBehaviorEventRef","type":"EventDefinition","isAttr":true,"isReference":true},{"name":"noneBehaviorEventRef","type":"EventDefinition","isAttr":true,"isReference":true}]},{"name":"FailedJobRetryTimeCycle","superClass":["Element"],"meta":{"allowedIn":["flowable:AsyncCapable","bpmn:MultiInstanceLoopCharacteristics"]},"properties":[{"name":"body","isBody":true,"type":"String"}]},{"name":"ExecutionListener","superClass":["Element"],"meta":{"allowedIn":["bpmn:Task","bpmn:ServiceTask","bpmn:UserTask","bpmn:BusinessRuleTask","bpmn:ScriptTask","bpmn:ReceiveTask","bpmn:ManualTask","bpmn:ExclusiveGateway","bpmn:SequenceFlow","bpmn:ParallelGateway","bpmn:InclusiveGateway","bpmn:EventBasedGateway","bpmn:StartEvent","bpmn:IntermediateCatchEvent","bpmn:IntermediateThrowEvent","bpmn:EndEvent","bpmn:BoundaryEvent","bpmn:CallActivity","bpmn:SubProcess","bpmn:Process"]},"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"event","isAttr":true,"type":"String"},{"name":"script","type":"Script"},{"name":"fields","type":"Field","isMany":true}]},{"name":"TaskListener","superClass":["Element"],"meta":{"allowedIn":["bpmn:UserTask"]},"properties":[{"name":"expression","isAttr":true,"type":"String"},{"name":"class","isAttr":true,"type":"String"},{"name":"delegateExpression","isAttr":true,"type":"String"},{"name":"event","isAttr":true,"type":"String"},{"name":"script","type":"Script"},{"name":"fields","type":"Field","isMany":true}]},{"name":"FormProperty","superClass":["Element"],"meta":{"allowedIn":["bpmn:StartEvent","bpmn:UserTask"]},"properties":[{"name":"id","type":"String","isAttr":true},{"name":"name","type":"String","isAttr":true},{"name":"type","type":"String","isAttr":true},{"name":"required","type":"String","isAttr":true},{"name":"readable","type":"String","isAttr":true},{"name":"writable","type":"String","isAttr":true},{"name":"variable","type":"String","isAttr":true},{"name":"expression","type":"String","isAttr":true},{"name":"datePattern","type":"String","isAttr":true},{"name":"default","type":"String","isAttr":true},{"name":"values","type":"Value","isMany":true}]},{"name":"FormData","superClass":["Element"],"meta":{"allowedIn":["bpmn:StartEvent","bpmn:UserTask"]},"properties":[{"name":"fields","type":"FormField","isMany":true},{"name":"businessKey","type":"String","isAttr":true}]},{"name":"FormField","superClass":["Element"],"properties":[{"name":"id","type":"String","isAttr":true},{"name":"label","type":"String","isAttr":true},{"name":"type","type":"String","isAttr":true},{"name":"datePattern","type":"String","isAttr":true},{"name":"defaultValue","type":"String","isAttr":true},{"name":"properties","type":"Properties"},{"name":"validation","type":"Validation"},{"name":"values","type":"Value","isMany":true}]},{"name":"Validation","superClass":["Element"],"properties":[{"name":"constraints","type":"Constraint","isMany":true}]},{"name":"Constraint","superClass":["Element"],"properties":[{"name":"name","type":"String","isAttr":true},{"name":"config","type":"String","isAttr":true}]},{"name":"ConditionalEventDefinition","isAbstract":true,"extends":["bpmn:ConditionalEventDefinition"],"properties":[{"name":"variableName","isAttr":true,"type":"String"},{"name":"variableEvent","isAttr":true,"type":"String"}]}],"emumerations":[]}')},"2cfa":function(e,t,a){"use strict";a.r(t);a("159b");t["default"]={options:function(e,t,a){var r=[];return t.__slot__.options.forEach((function(a){"button"===t.__config__.optionType?r.push(e("el-radio-button",{attrs:{label:a.value}},[a.label])):r.push(e("el-radio",{attrs:{label:a.value,border:t.border}},[a.label]))})),r}}},"2ea6":function(e,t,a){"use strict";a("8c7a")},"319d":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-form",{ref:"FormData",attrs:{"label-width":"100px",model:e.FormData,rules:e.rules}},[e.setVisable("associatedOrderList")?a("el-form-item",{attrs:{label:"订单",prop:"orderId"}},[a("el-select",{staticStyle:{width:"80%"},attrs:{filterable:"",remote:"","remote-method":function(t){return e.remoteMethod(t)},clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("associatedOrderList")},on:{change:e.handleChangeOrder,clear:e.handleClearOrder},model:{value:e.FormData.orderId,callback:function(t){e.$set(e.FormData,"orderId",t)},expression:"FormData.orderId"}},e._l(e.associatedOrderList,(function(e){return a("el-option",{key:e.orderId,attrs:{label:e.fullTitle,value:e.orderId}})})),1),e.setVisable("orderDetail")&&e.setVisable("associatedOrderList")?a("a",{staticStyle:{"font-size":"12px","padding-left":"15px",color:"#46a6ff",cursor:"pointer"},on:{click:e.checkOrderDetail}},[e._v("订单详情")]):e._e()],1):e._e(),e.setVisable("title")?a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题",size:"small",disabled:e.setDisable("title")},model:{value:e.FormData.title,callback:function(t){e.$set(e.FormData,"title",t)},expression:"FormData.title"}})],1):e._e(),e.setVisable("customer")?a("el-form-item",{attrs:{label:"客户",prop:"customer"}},[a("el-input",{attrs:{disabled:"",size:"small"},model:{value:e.customer,callback:function(t){e.customer=t},expression:"customer"}})],1):e._e(),e.setVisable("contract")?a("el-form-item",{attrs:{label:"合同",prop:"contract"}},[a("el-input",{attrs:{type:"small",disabled:""},model:{value:e.contract,callback:function(t){e.contract=t},expression:"contract"}})],1):e._e(),a("el-row",[a("el-col",{attrs:{span:12}},[e.setVisable("preSales")?a("el-form-item",{attrs:{label:"售前",prop:"preSales"}},[a("el-input",{attrs:{size:"small",disabled:""},model:{value:e.preSales,callback:function(t){e.preSales=t},expression:"preSales"}})],1):e._e()],1),a("el-col",{attrs:{span:12}},[e.setVisable("prjManagerId")?a("el-form-item",{attrs:{label:"项目经理",prop:"prjManagerId"}},[a("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("prjManagerId")},model:{value:e.FormData.prjManagerId,callback:function(t){e.$set(e.FormData,"prjManagerId",t)},expression:"FormData.prjManagerId"}},e._l(e.proManagerList,(function(e){return a("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userId}})})),1)],1):e._e()],1)],1),e.setVisable("solution")?a("el-form-item",{attrs:{label:"实施方案："}},[a("el-input",{attrs:{type:"textarea",size:"small",disabled:e.setDisable("solution")},model:{value:e.FormData.solution,callback:function(t){e.$set(e.FormData,"solution",t)},expression:"FormData.solution"}})],1):e._e(),e.btnVisable?a("el-form-item",[e.btnHidden?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("FormData")}}},[e._v("提交")]):e._e(),e.btnHidden?a("el-button",{on:{click:function(t){return e.resetForm("FormData")}}},[e._v("重置")]):e._e()],1):e._e()],1),a("el-dialog",{directives:[{name:"drag",rawName:"v-drag"}],attrs:{title:"订单详情",visible:e.orderDetailVisable,width:"70%","append-to-body":""},on:{"update:visible":function(t){e.orderDetailVisable=t}}},[a("orderForm",{attrs:{formValue:e.orderDetailValue}})],1)],1)},i=[],s=(a("159b"),a("c0c7")),n=a("3ab9"),l=a("1538"),o=a("fd31"),c={components:{orderForm:o["a"]},props:{formValue:{type:Object,default:function(){return{}}},taskFormValue:{type:Object,default:function(){return{}}},flowAuthSettingList:{type:Array,default:function(){return[]}},isStart:{type:Boolean,default:!0},isDetail:{type:Boolean,default:!0},detailType:{type:String,default:""},procDefId:{type:String,default:""}},data:function(){return{loading:!1,readOnly:!1,btnVisable:!0,btnHidden:!0,projectList:[],associatedOrderList:[],proManagerList:[],FormData:{title:"",orderId:null,orderList:[],customerNo:"",prjManagerId:null,solution:"",preSalesId:null},customer:"",preSales:"",contract:"",rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],orderId:[{required:!0,message:"请选择订单",trigger:"change"}],prjManagerId:[{required:!0,message:"请选择项目经理",trigger:"change"}]},searchParams:{keywords:"",pageNo:1,pageSize:100},orderDetailVisable:!1,orderDetailValue:{}}},created:function(){var e=this;this.getDicts("project_list").then((function(t){e.projectList=t.data}))},mounted:function(){this.getAssociatedOrderList(),this.getProjectManagerList()},watch:{formValue:{handler:function(e){"{}"!==JSON.stringify(e)&&(this.FormData=e,this.FormData.orderId=this.FormData.orderList[0].orderId,this.getRelatedInfoByOrderId({orderId:this.FormData.orderList[0].orderId}),this.readOnly=!0,this.isStart||(this.btnVisable=!1))},immediate:!0,deep:!0},taskFormValue:{handler:function(e){"{}"!==JSON.stringify(e)&&(this.FormData=e,this.getRelatedInfoByOrderId({orderId:this.FormData.orderList[0].orderId}),this.btnHidden=!1)}},flowAuthSettingList:{handler:function(e){}},isDetail:{handler:function(e){e&&(this.btnVisable=!1)},deep:!0,immediate:!0}},methods:{getAssociatedOrderList:function(e){var t=this;Object(n["i"])(e).then((function(e){t.associatedOrderList=e.data}))},handleChangeOrder:function(e){var t=this;if(e){var a={orderId:e};this.getRelatedInfoByOrderId(a),this.associatedOrderList.forEach((function(a){a.orderId==e&&(t.FormData.title=a.title)})),this.FormData.orderList=[],this.FormData.orderList.push({orderId:e})}},handleClearOrder:function(){this.customer="",this.preSales="",this.contract="",this.FormData.orderList[0].orderId=null},getRelatedInfoByOrderId:function(e){var t=this;Object(n["g"])(e).then((function(e){t.customer="["+e.data.customerNo+"]"+e.data.enterpriseName,t.preSales=e.data.preSalesUserName,t.contract=e.data.contractTitle,t.FormData.customerNo=e.data.customerNo,t.FormData.preSalesId=e.data.preSalesId}))},checkOrderDetail:function(){null!==this.FormData.orderList[0].orderId?(this.orderDetailVisable=!0,this.getOrderDetail({orderId:this.FormData.orderList[0].orderId})):this.$message.error("请选择订单")},getOrderDetail:function(e){var t=this;Object(n["l"])(e).then((function(e){t.orderDetailValue=e.data}))},getProjectManagerList:function(){var e=this;Object(s["f"])({roleKey:"prj_manager"}).then((function(t){e.proManagerList=t.data.list}))},remoteMethod:function(e){this.searchParams.keywords=e,this.getAssociatedOrderList(this.searchParams)},submitForm:function(e){var t=this;this.loading=!0,this.$refs[e].validate((function(e){if(!e)return t.loading=!1,!1;Object(l["b"])(t.$route.query.procDefId?t.$route.query.procDefId:t.procDefId,t.FormData).then((function(e){t.msgSuccess("流程发起成功"),t.$store.dispatch("tagsView/delView",t.$route),t.$router.push("/task/myProcess"),t.loading=!1})).catch((function(e){t.loading=!1}))}))},resetForm:function(e){this.$refs[e].resetFields()},setVisable:function(e){var t=!0;return 0===this.flowAuthSettingList.length&&"allProcess"!==this.detailType&&!0!==this.isStart?!t:(this.flowAuthSettingList.forEach((function(a){e==a.widgetCode&&(t=a.viewable)})),t)},setDisable:function(e){var t=!1;return this.isDetail?!t:this.isStart?t:(this.flowAuthSettingList.forEach((function(a){e==a.widgetCode&&(t=a.editable)})),!t)}}},u=c,d=a("0c7c"),m=Object(d["a"])(u,r,i,!1,null,"605287c0",null);t["a"]=m.exports},"3e17":function(e,t,a){"use strict";a("2087")},"3e4b":function(module,__webpack_exports__,__webpack_require__){"use strict";var C_intellij_idea_ags_parent_ags_flowable_web_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("ade3"),_vue_babel_helper_vue_jsx_merge_props__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2638"),_vue_babel_helper_vue_jsx_merge_props__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_vue_babel_helper_vue_jsx_merge_props__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("d81d"),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("159b"),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("b64b"),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_4__),_utils_index__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("ed08"),_components_render_render_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("4758"),ruleTrigger={"el-input":"blur","el-input-number":"blur","el-select":"change","el-radio-group":"change","el-checkbox-group":"change","el-cascader":"change","el-time-picker":"change","el-date-picker":"change","el-rate":"change"},layouts={colFormItem:function(e,t){var a=t.__config__,r=buildListeners.call(this,t),i=a.labelWidth?"".concat(a.labelWidth,"px"):null;return!1===a.showLabel&&(i="0"),e("el-col",{attrs:{span:a.span}},[e("el-form-item",{attrs:{"label-width":i,prop:t.__vModel__,label:a.showLabel?a.label:""}},[e(_components_render_render_js__WEBPACK_IMPORTED_MODULE_6__["a"],_vue_babel_helper_vue_jsx_merge_props__WEBPACK_IMPORTED_MODULE_1___default()([{attrs:{conf:t}},{on:r}]))])])},rowFormItem:function(e,t){var a=renderChildren.apply(this,arguments);return"flex"===t.type&&(a=e("el-row",{attrs:{type:t.type,justify:t.justify,align:t.align}},[a])),e("el-col",{attrs:{span:t.span}},[e("el-row",{attrs:{gutter:t.gutter}},[a])])}};function renderFrom(e){var t=this.formConfCopy;return e("el-row",{attrs:{gutter:t.gutter}},[e("el-form",_vue_babel_helper_vue_jsx_merge_props__WEBPACK_IMPORTED_MODULE_1___default()([{attrs:{size:t.size,"label-position":t.labelPosition,disabled:t.disabled,"label-width":"".concat(t.labelWidth,"px")},ref:t.formRef},{props:{model:this[t.formModel]}},{attrs:{rules:this[t.formRules]}}]),[renderFormItem.call(this,e,t.fields),t.formBtns&&formBtns.call(this,e)])])}function formBtns(e){return e("el-col",[e("el-form-item",{attrs:{size:"large"}},[e("el-button",{attrs:{type:"primary"},on:{click:this.submitForm}},["提交"]),e("el-button",{on:{click:this.resetForm}},["重置"])])])}function renderFormItem(e,t){var a=this;if(t)return t.map((function(t){var r=t.__config__,i=layouts[r.layout];if(i)return i.call(a,e,t);throw new Error("没有与".concat(r.layout,"匹配的layout"))}))}function renderChildren(e,t){var a=t.__config__;return Array.isArray(a.children)?renderFormItem.call(this,e,a.children):null}function setValue(e,t,a){this.$set(t,"defaultValue",e),this.$set(this[this.formConf.formModel],a.__vModel__,e)}function buildListeners(e){var t=this,a=e.__config__,r=this.formConf.__methods__||{},i={};return Object.keys(r).forEach((function(e){i[e]=function(a){return r[e].call(t,a)}})),i.input=function(r){return setValue.call(t,r,a,e)},i}__webpack_exports__["a"]={components:{render:_components_render_render_js__WEBPACK_IMPORTED_MODULE_6__["a"]},props:{formConf:{type:Object,default:function(){return{}}}},data:function(){var e,t=(e={formConfCopy:Object(_utils_index__WEBPACK_IMPORTED_MODULE_5__["d"])(this.formConf)},Object(C_intellij_idea_ags_parent_ags_flowable_web_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["a"])(e,this.formConf.formModel,{}),Object(C_intellij_idea_ags_parent_ags_flowable_web_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__["a"])(e,this.formConf.formRules,{}),e);return this.initFormData(t.formConfCopy.fields,t[this.formConf.formModel]),this.buildRules(t.formConfCopy.fields,t[this.formConf.formRules]),t},methods:{initFormData:function(e,t){var a=this;e&&e.forEach((function(e){var r=e.__config__;e.__vModel__&&(t[e.__vModel__]=r.defaultValue),r.children&&a.initFormData(r.children,t)}))},buildRules:function buildRules(componentList,rules){var _this4=this;componentList&&componentList.forEach((function(cur){var config=cur.__config__;if(Array.isArray(config.regList)){if(config.required){var required={required:config.required,message:cur.placeholder};Array.isArray(config.defaultValue)&&(required.type="array",required.message="请至少选择一个".concat(config.label)),void 0===required.message&&(required.message="".concat(config.label,"不能为空")),config.regList.push(required)}rules[cur.__vModel__]=config.regList.map((function(item){return item.pattern&&(item.pattern=eval(item.pattern)),item.trigger=ruleTrigger&&ruleTrigger[config.tag],item}))}config.children&&_this4.buildRules(config.children,rules)}))},resetForm:function(){this.formConfCopy=Object(_utils_index__WEBPACK_IMPORTED_MODULE_5__["d"])(this.formConf),this.$refs[this.formConf.formRef].resetFields()},submitForm:function(){var e=this;this.$refs[this.formConf.formRef].validate((function(t){if(!t)return!1;var a={valData:e[e.formConf.formModel],formData:e.formConfCopy};return e.$emit("submit",a),!0}))}},render:function(e){return renderFrom.call(this,e)}}},4758:function(e,t,a){"use strict";var r=a("5530"),i=a("2909"),s=a("53ca"),n=(a("d3b7"),a("ddb0"),a("159b"),a("ac1f"),a("5319"),a("b64b"),a("4d63"),a("25f0"),a("caad"),a("99af"),a("ed08")),l=(a("bc3a"),{}),o=a("9977"),c=o.keys()||[];function u(e,t){var a=this;e.props.value=t,e.on.input=function(e){a.$emit("input",e)}}function d(e,t,a){var r=l[t.__config__.tag];r&&Object.keys(r).forEach((function(i){var s=r[i];t.__slot__&&t.__slot__[i]&&a.push(s(e,t,i))}))}function m(e){var t=this;["on","nativeOn"].forEach((function(a){var r=Object.keys(e[a]||{});r.forEach((function(r){var i=e[a][r];"string"===typeof i&&(e[a][r]=function(e){return t.$emit(i,e)})}))}))}function p(e,t){var a=this;Object.keys(e).forEach((function(n){var l=e[n];"__vModel__"===n?u.call(a,t,e.__config__.defaultValue):void 0!==t[n]?null===t[n]||t[n]instanceof RegExp||["boolean","string","number","function"].includes(Object(s["a"])(t[n]))?t[n]=l:Array.isArray(t[n])?t[n]=[].concat(Object(i["a"])(t[n]),Object(i["a"])(l)):t[n]=Object(r["a"])(Object(r["a"])({},t[n]),l):t.attrs[n]=l})),f(t)}function f(e){delete e.attrs.__config__,delete e.attrs.__slot__,delete e.attrs.__methods__}function b(){return{class:{},attrs:{},props:{},domProps:{},nativeOn:{},on:{},style:{},directives:[],scopedSlots:{},slot:null,key:null,ref:null,refInFor:!0}}c.forEach((function(e){var t=e.replace(/^\.\/(.*)\.\w+$/,"$1"),a=o(e).default;l[t]=a})),t["a"]={props:{conf:{type:Object,required:!0}},render:function(e){var t=b(),a=Object(n["d"])(this.conf),r=this.$slots.default||[];return this.conf.remote&&"el-select"===this.conf.__config__.tag?(d.call(this,e,this.conf,r),m.call(this,this.conf),p.call(this,this.conf,t)):(d.call(this,e,a,r),m.call(this,a),p.call(this,a,t)),e(this.conf.__config__.tag,t,r)}}},"522d":function(e,t,a){"use strict";a("5573")},5573:function(e,t,a){},"66a4":function(e,t,a){},"6b0a":function(e,t,a){},"7f29":function(e,t,a){"use strict";a.r(t);a("159b");var r=a("bc3a"),i=a.n(r);t["default"]={options:function(e,t,a){t.remote&&(t.remoteMethod=function(e){i.a.get(t.__config__.url,{params:{keywords:e}}).then((function(e){e.data&&200===e.data.code&&(t.options=e.data.data)})).catch((function(e){console.log(e,"==========")}))});var r=[];return t.options.forEach((function(t){r.push(e("el-option",{attrs:{label:t.label,value:t.value,disabled:t.disabled}}))})),r}}},"872a":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-form",{ref:"FormData",attrs:{"label-width":"100px",model:e.FormData,rules:e.rules}},[e.setVisable("title")?a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题",size:"small",disabled:e.setDisable("title")},model:{value:e.FormData.title,callback:function(t){e.$set(e.FormData,"title",t)},expression:"FormData.title"}})],1):e._e(),a("el-row",[a("el-col",{attrs:{span:8}},[e.setVisable("contractType")?a("el-form-item",{attrs:{label:"合同类型",prop:"contractType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("contractType")},model:{value:e.FormData.contractType,callback:function(t){e.$set(e.FormData,"contractType",t)},expression:"FormData.contractType"}},e._l(e.contractTypes,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1):e._e()],1),a("el-col",{attrs:{span:8}},[e.setVisable("customerNo")&&e.isStart&&!e.bizDetail?a("el-form-item",{attrs:{label:"客户",prop:"customerNo"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"","remote-method":function(t){return e.remoteMethod(t,"customer")},clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("customerNo")},on:{change:e.selectChange,clear:e.clearCustomerInfo},model:{value:e.FormData.customerNo,callback:function(t){e.$set(e.FormData,"customerNo",t)},expression:"FormData.customerNo"}},e._l(e.customerList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e.setVisable("customerNo")&&!e.isStart?a("el-form-item",{attrs:{label:"客户",prop:"customerNo"}},[a("el-input",{attrs:{disabled:""},model:{value:e.FormData.customerName,callback:function(t){e.$set(e.FormData,"customerName",t)},expression:"FormData.customerName"}})],1):e._e(),e.setVisable("customerNo")&&e.bizDetail?a("el-form-item",{attrs:{label:"客户",prop:"customerNo"}},[a("el-input",{attrs:{disabled:"",size:"small"},model:{value:e.FormData.customerName,callback:function(t){e.$set(e.FormData,"customerName",t)},expression:"FormData.customerName"}})],1):e._e()],1),a("el-col",{attrs:{span:8}},[e.setVisable("agsCompanyCode")?a("el-form-item",{attrs:{label:"乙方抬头",prop:"agsCompanyCode"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("agsCompanyCode")},model:{value:e.FormData.agsCompanyCode,callback:function(t){e.$set(e.FormData,"agsCompanyCode",t)},expression:"FormData.agsCompanyCode"}},e._l(e.agsCompanyList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1):e._e()],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[e.setVisable("customerNo")?a("el-form-item",{attrs:{label:"客户联系人"}},[a("el-input",{attrs:{disabled:"",size:"small","suffix-icon":"el-icon-s-custom"},model:{value:e.FormData.customerContacts,callback:function(t){e.$set(e.FormData,"customerContacts",t)},expression:"FormData.customerContacts"}})],1):e._e()],1),a("el-col",{attrs:{span:8}},[e.setVisable("customerNo")?a("el-form-item",{attrs:{label:"邮箱",prop:"customerEmail"}},[a("el-input",{attrs:{size:"small","suffix-icon":"el-icon-message",disabled:""},model:{value:e.FormData.customerEmail,callback:function(t){e.$set(e.FormData,"customerEmail",t)},expression:"FormData.customerEmail"}})],1):e._e()],1),a("el-col",{attrs:{span:8}},[e.setVisable("customerNo")?a("el-form-item",{attrs:{label:"电话",prop:"customerPhoneNo"}},[a("el-input",{attrs:{size:"small","suffix-icon":"el-icon-mobile-phone",disabled:""},model:{value:e.FormData.customerPhoneNo,callback:function(t){e.$set(e.FormData,"customerPhoneNo",t)},expression:"FormData.customerPhoneNo"}})],1):e._e()],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[e.setVisable("authSigner")?a("el-form-item",{attrs:{label:"授权签字人",prop:"authSigner"}},[a("el-input",{attrs:{placeholder:"请输入授权签字人",size:"small",disabled:e.setDisable("authSigner")},model:{value:e.FormData.authSigner,callback:function(t){e.$set(e.FormData,"authSigner",t)},expression:"FormData.authSigner"}})],1):e._e()],1),a("el-col",{attrs:{span:12}},[e.setVisable("agsPhoneNo")?a("el-form-item",{attrs:{label:"联系电话",prop:"agsPhoneNo"}},[a("el-input",{attrs:{size:"small",disabled:""},model:{value:e.FormData.agsPhoneNo,callback:function(t){e.$set(e.FormData,"agsPhoneNo",t)},expression:"FormData.agsPhoneNo"}})],1):e._e()],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[e.setVisable("associatedOrderList")&&e.isStart&&!e.bizDetail?a("el-form-item",{attrs:{label:"关联订单",prop:"orderList"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",filterable:"",remote:"","remote-method":function(t){return e.remoteMethod(t,"order")},clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("associatedOrderList"),"value-key":"orderId"},on:{change:e.selectOrderChange},model:{value:e.FormData.orderList,callback:function(t){e.$set(e.FormData,"orderList",t)},expression:"FormData.orderList"}},e._l(e.associatedOrderList,(function(e){return a("el-option",{key:e.orderId,attrs:{label:e.title,value:e.orderId}})})),1)],1):e._e(),e.setVisable("associatedOrderList")&&!e.isStart?a("el-form-item",{attrs:{label:"关联订单"}},[a("el-input",{attrs:{disabled:"",size:"small"},model:{value:e.FormData.associatedOrderName,callback:function(t){e.$set(e.FormData,"associatedOrderName",t)},expression:"FormData.associatedOrderName"}})],1):e._e(),e.setVisable("associatedOrderList")&&e.bizDetail?a("el-form-item",{attrs:{label:"关联订单"}},[a("el-input",{attrs:{disabled:"",size:"small"},model:{value:e.FormData.associatedOrderName,callback:function(t){e.$set(e.FormData,"associatedOrderName",t)},expression:"FormData.associatedOrderName"}})],1):e._e()],1),a("el-col",{attrs:{span:11}},[e.setVisable("signDate")?a("el-form-item",{attrs:{label:"签订日期",prop:"signDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",size:"small",disabled:e.setDisable("signDate")},model:{value:e.FormData.signDate,callback:function(t){e.$set(e.FormData,"signDate",t)},expression:"FormData.signDate"}})],1):e._e()],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[e.setVisable("contractStartDate")?a("el-form-item",{attrs:{label:"开始日期",prop:"contractStartDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",size:"small",disabled:e.setDisable("contractStartDate")},model:{value:e.FormData.contractStartDate,callback:function(t){e.$set(e.FormData,"contractStartDate",t)},expression:"FormData.contractStartDate"}})],1):e._e()],1),a("el-col",{attrs:{span:11}},[e.setVisable("contractEndDate")?a("el-form-item",{attrs:{label:"结束日期",prop:"contractEndDate"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",size:"small",disabled:e.setDisable("contractEndDate")},model:{value:e.FormData.contractEndDate,callback:function(t){e.$set(e.FormData,"contractEndDate",t)},expression:"FormData.contractEndDate"}})],1):e._e()],1)],1),e.setVisable("remarks")?a("el-form-item",{attrs:{label:"备注："}},[a("el-input",{attrs:{type:"textarea",size:"small",disabled:e.setDisable("remarks")},model:{value:e.FormData.remarks,callback:function(t){e.$set(e.FormData,"remarks",t)},expression:"FormData.remarks"}})],1):e._e(),e.setVisable("fpTitle")?a("div",{staticClass:"formTitle"},[e._v("客户开票信息")]):e._e(),e.setVisable("fpTitle")?a("el-form-item",{attrs:{label:"客户开票抬头",prop:"fpTitle"}},[a("el-input",{attrs:{placeholder:"请输入客户开票抬头",size:"small",disabled:e.setDisable("fpTitle")},model:{value:e.FormData.fpTitle,callback:function(t){e.$set(e.FormData,"fpTitle",t)},expression:"FormData.fpTitle"}})],1):e._e(),e.setVisable("fpBankName")?a("el-form-item",{attrs:{label:"开户行",prop:"fpBankName"}},[a("el-input",{attrs:{placeholder:"请输入开户行",size:"small",disabled:e.setDisable("fpBankName")},model:{value:e.FormData.fpBankName,callback:function(t){e.$set(e.FormData,"fpBankName",t)},expression:"FormData.fpBankName"}})],1):e._e(),e.setVisable("fpTaxNo")?a("el-form-item",{attrs:{label:"税号",prop:"fpTaxNo"}},[a("el-input",{attrs:{placeholder:"请输入税号",size:"small",disabled:e.setDisable("fpTaxNo")},model:{value:e.FormData.fpTaxNo,callback:function(t){e.$set(e.FormData,"fpTaxNo",t)},expression:"FormData.fpTaxNo"}})],1):e._e(),e.setVisable("fpBankAccNo")?a("el-form-item",{attrs:{label:"银行账号",prop:"fpBankAccNo"}},[a("el-input",{attrs:{placeholder:"请输入银行账号",size:"small",disabled:e.setDisable("fpBankAccNo")},model:{value:e.FormData.fpBankAccNo,callback:function(t){e.$set(e.FormData,"fpBankAccNo",t)},expression:"FormData.fpBankAccNo"}})],1):e._e(),e.setVisable("fpAddr")?a("el-form-item",{attrs:{label:"开票地址",prop:"fpAddr"}},[a("el-input",{attrs:{placeholder:"请输入开票地址",size:"small",disabled:e.setDisable("fpAddr")},model:{value:e.FormData.fpAddr,callback:function(t){e.$set(e.FormData,"fpAddr",t)},expression:"FormData.fpAddr"}})],1):e._e(),e.setVisable("fpPhoneNo")?a("el-form-item",{attrs:{label:"开票电话",prop:"fpPhoneNo"}},[a("el-input",{attrs:{placeholder:"请输入开票电话",size:"small",disabled:e.setDisable("fpPhoneNo")},model:{value:e.FormData.fpPhoneNo,callback:function(t){e.$set(e.FormData,"fpPhoneNo",t)},expression:"FormData.fpPhoneNo"}})],1):e._e(),e.setVisable("contractAttaches")?a("el-form-item",{attrs:{label:"合同附件"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.uploadUrl,"on-preview":e.handlePreview,"on-remove":e.handleRemove1,"before-remove":e.beforeRemove,"on-success":e.uploadSuccess1,multiple:"","file-list":e.FormData.contractAttaches,disabled:e.setDisable("contractAttaches")}},[a("el-button",{attrs:{size:"small",type:"primary",disabled:e.setDisable("contractAttaches")}},[e._v("点击上传")])],1)],1):e._e(),e.setVisable("orderAttaches")?a("el-form-item",{attrs:{label:"订单附件"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:e.uploadUrl,"on-preview":e.handlePreview,"on-remove":e.handleRemove2,"before-remove":e.beforeRemove,"on-success":e.uploadSuccess2,multiple:"","file-list":e.FormData.orderAttaches,disabled:e.setDisable("orderAttaches")}},[a("el-button",{attrs:{size:"small",type:"primary",disabled:e.setDisable("orderAttaches")}},[e._v("点击上传")])],1)],1):e._e(),e.setVisable("suppleAgreement")?a("el-form-item",{attrs:{label:"补充协议"}},[a("el-input",{attrs:{type:"textarea",size:"small",disabled:e.setDisable("suppleAgreement")},model:{value:e.FormData.suppleAgreement,callback:function(t){e.$set(e.FormData,"suppleAgreement",t)},expression:"FormData.suppleAgreement"}})],1):e._e(),e.btnVisable?a("el-form-item",[e.btnHidden?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("FormData")}}},[e._v("提交")]):e._e(),e.btnHidden?a("el-button",{on:{click:function(t){return e.resetForm("FormData")}}},[e._v("重置")]):e._e()],1):e._e()],1)],1)},i=[],s=(a("159b"),a("b64b"),a("b0c0"),a("a434"),a("c740"),a("d81d"),a("3ab9")),n=a("1538"),l=a("5fd5"),o={props:{formValue:{type:Object,default:function(){return{}}},taskFormValue:{type:Object,default:function(){return{}}},flowAuthSettingList:{type:Array,default:function(){return[]}},isStart:{type:Boolean,default:!0},isDetail:{type:Boolean,default:!0},detailType:{type:String,default:""},procDefId:{type:String,default:""},bizDetail:{type:Boolean,default:!1}},data:function(){return{loading:!1,readOnly:!1,btnVisable:!0,btnHidden:!0,contractTypes:[],customerList:[],agsCompanyList:[],associatedOrderList:[],uploadUrl:"https://flow-api-test.agilenaas.net/file/upload",FormData:{title:"",contractType:"",customerNo:"",customerContacts:"",customerEmail:"",customerPhoneNo:"",agsCompanyCode:"",authSigner:"",agsPhoneNo:"400-100-1730",orderList:[],signDate:"",contractStartDate:"",contractEndDate:"",remarks:"",fpTitle:"",fpBankName:"",fpTaxNo:"",fpBankAccNo:"",fpAddr:"",fpPhoneNo:"",contractAttaches:[],orderAttaches:[],suppleAgreement:"",customerName:"",associatedOrderName:""},searchParams:{customerNo:"",title:"",pageNo:1,pageSize:1e4},searchCustomer:{keywords:"",pageNo:1,pageSize:100},rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],contractType:[{required:!0,message:"请选择合同类型",trigger:"change"}],customerNo:[{required:!0,message:"请选择客户",trigger:"change"}],agsCompanyCode:[{required:!0,message:"请选择乙方抬头",trigger:"change"}],authSigner:[{required:!0,message:"请输入授权签字人",trigger:"blur"}],orderList:[{required:!0,message:"请选择关联订单",trigger:"change"}],signDate:[{required:!0,message:"请选择日期",trigger:"change"}],contractStartDate:[{required:!0,message:"请选择日期",trigger:"change"}],contractEndDate:[{required:!0,message:"请选择日期",trigger:"change"}]}}},watch:{formValue:{handler:function(e,t){var a=this;if("{}"!==JSON.stringify(e)){this.FormData=e;var r="";this.FormData.orderList.forEach((function(e){"orderId"==Object.keys(e)[0]&&(a.FormData.orderList=[]),e.relationTitle&&(r+=e.relationTitle+",",a.FormData.associatedOrderName=r)})),this.readOnly=!0,this.isStart||(this.btnVisable=!1),this.getUnboundContractOrderDropDownList({customerNo:this.FormData.customerNo})}},immediate:!0,deep:!0},taskFormValue:{handler:function(e){"{}"!==JSON.stringify(e)&&(this.FormData=e,this.btnHidden=!1,this.getUnboundContractOrderDropDownList({customerNo:this.FormData.customerNo}))}},flowAuthSettingList:{handler:function(e){}},isDetail:{handler:function(e){e&&(this.btnVisable=!1)},deep:!0,immediate:!0}},created:function(){var e=this;this.getDicts("contract_type").then((function(t){e.contractTypes=t.data}))},mounted:function(){this.getCustomerList(),this.getAgsCompanyList()},methods:{getUnboundContractOrderDropDownList:function(e){var t=this;Object(s["m"])(e).then((function(e){t.associatedOrderList=e.data}))},getCustomerList:function(){var e=this;Object(l["c"])(this.searchCustomer).then((function(t){e.customerList=t.data}))},clearCustomerInfo:function(){this.FormData.customerContacts="",this.FormData.customerEmail="",this.FormData.customerPhoneNo=""},selectChange:function(e){var t=this;this.customerList.forEach((function(a){a.value==e&&(t.FormData.customerContacts=a.contacts,t.FormData.customerEmail=a.email,t.FormData.customerPhoneNo=a.phoneNo,t.FormData.customerName=a.label)})),this.searchParams.customerNo=e,this.getUnboundContractOrderDropDownList({customerNo:e})},selectOrderChange:function(e){var t=this;this.FormData.associatedOrderName="",this.associatedOrderList.forEach((function(a){e.forEach((function(e){a.orderId==e&&(t.FormData.associatedOrderName+=a.title+",")}))}))},remoteMethod:function(e,t){"order"==t?(this.searchParams.title=e,this.getUnboundContractOrderDropDownList(this.searchParams)):"customer"==t&&(this.searchCustomer.keywords=e,this.getCustomerList())},getAgsCompanyList:function(){var e=this;Object(s["h"])().then((function(t){e.agsCompanyList=t.data}))},uploadSuccess1:function(e,t,a){this.FormData.contractAttaches.push({name:t.name,url:t.response.data.url2,previewUrl:t.response.data.url,fileName:t.name})},uploadSuccess2:function(e,t,a){this.FormData.orderAttaches.push({name:t.name,url:t.response.data.url2,previewUrl:t.response.data.url,fileName:t.name})},handleRemove1:function(e,t){this.FormData.contractAttaches.splice(this.FormData.contractAttaches.findIndex((function(t){return t.name==e.name})),1)},handleRemove2:function(e,t){this.FormData.orderAttaches.splice(this.FormData.orderAttaches.findIndex((function(t){return t.name==e.name})),1)},handlePreview:function(e){window.open(e.previewUrl,"_blank")},beforeRemove:function(e,t){return this.$confirm("确定移除 ".concat(e.name,"？"))},submitForm:function(e){var t=this,a=JSON.stringify(this.FormData),r=JSON.parse(a);r.orderList=r.orderList.map((function(e){return{orderId:e}})),this.loading=!0,this.$refs[e].validate((function(e){if(!e)return t.loading=!1,!1;Object(n["b"])(t.$route.query.procDefId?t.$route.query.procDefId:t.procDefId,r).then((function(e){t.loading=!1,t.msgSuccess("流程发起成功"),t.$store.dispatch("tagsView/delView",t.$route),t.$router.push("/task/myProcess")})).catch((function(e){t.loading=!1}))}))},resetForm:function(e){this.$refs[e].resetFields()},setVisable:function(e){var t=!0;return 0===this.flowAuthSettingList.length&&"allProcess"!==this.detailType&&!0!==this.isStart?!t:(this.flowAuthSettingList.forEach((function(a){e==a.widgetCode&&(t=a.viewable)})),t)},setDisable:function(e){var t=!1;return this.isDetail?!t:this.isStart?t:(this.flowAuthSettingList.forEach((function(a){e==a.widgetCode&&(t=a.editable)})),!t)}}},c=o,u=(a("3e17"),a("0c7c")),d=Object(u["a"])(c,r,i,!1,null,"1fecbb9a",null);t["a"]=d.exports},"8c7a":function(e,t,a){},9413:function(e,t,a){"use strict";a.r(t);a("159b");t["default"]={options:function(e,t,a){var r=[];return t.__slot__.options.forEach((function(a){"button"===t.__config__.optionType?r.push(e("el-checkbox-button",{attrs:{label:a.value}},[a.label])):r.push(e("el-checkbox",{attrs:{label:a.value,border:t.border}},[a.label]))})),r}}},"99fe":function(e,t,a){"use strict";a("6b0a")},"9f75":function(e,t,a){"use strict";var r,i,s=a("3e4b"),n=s["a"],l=a("0c7c"),o=Object(l["a"])(n,r,i,!1,null,null,null);t["a"]=o.exports},a9ff:function(e,t,a){},aace:function(e,t,a){"use strict";a.r(t),t["default"]={default:function(e,t,a){return t.__slot__[a]}}},ae3a:function(e,t,a){"use strict";a("b0c0");var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isView,expression:"isView"}],staticClass:"flow-containers",class:{"view-mode":e.isView}},[a("el-container",{staticStyle:{height:"100%"}},[a("el-header",{staticStyle:{"border-bottom":"1px solid rgb(218 218 218)",height:"auto"}},[a("div",{staticStyle:{display:"flex",padding:"10px 0px","justify-content":"space-between"}},[a("div",[a("el-upload",{staticStyle:{"margin-right":"10px",display:"inline-block"},attrs:{action:"","before-upload":e.openBpmn}},[a("el-tooltip",{attrs:{effect:"dark",content:"加载xml",placement:"bottom"}},[a("el-button",{attrs:{size:"mini",icon:"el-icon-folder-opened"}})],1)],1),a("el-tooltip",{attrs:{effect:"dark",content:"新建",placement:"bottom"}},[a("el-button",{attrs:{size:"mini",icon:"el-icon-circle-plus"},on:{click:e.newDiagram}})],1),a("el-tooltip",{attrs:{effect:"dark",content:"自适应屏幕",placement:"bottom"}},[a("el-button",{attrs:{size:"mini",icon:"el-icon-rank"},on:{click:e.fitViewport}})],1),a("el-tooltip",{attrs:{effect:"dark",content:"放大",placement:"bottom"}},[a("el-button",{attrs:{size:"mini",icon:"el-icon-zoom-in"},on:{click:function(t){return e.zoomViewport(!0)}}})],1),a("el-tooltip",{attrs:{effect:"dark",content:"缩小",placement:"bottom"}},[a("el-button",{attrs:{size:"mini",icon:"el-icon-zoom-out"},on:{click:function(t){return e.zoomViewport(!1)}}})],1),a("el-tooltip",{attrs:{effect:"dark",content:"后退",placement:"bottom"}},[a("el-button",{attrs:{size:"mini",icon:"el-icon-back"},on:{click:function(t){e.modeler.get("commandStack").undo()}}})],1),a("el-tooltip",{attrs:{effect:"dark",content:"前进",placement:"bottom"}},[a("el-button",{attrs:{size:"mini",icon:"el-icon-right"},on:{click:function(t){e.modeler.get("commandStack").redo()}}})],1)],1),a("div",[a("el-button",{attrs:{size:"mini",icon:"el-icon-view"},on:{click:e.showXML}},[e._v("查看xml")]),a("el-button",{attrs:{size:"mini",icon:"el-icon-download"},on:{click:function(t){return e.saveXML(!0)}}},[e._v("下载xml")]),a("el-button",{attrs:{size:"mini",icon:"el-icon-picture"},on:{click:function(t){return e.saveImg("svg",!0)}}},[e._v("下载svg")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.save}},[e._v("保存模型")])],1)])]),a("el-container",{staticStyle:{"align-items":"stretch"}},[a("el-main",{staticStyle:{padding:"0"}},[a("div",{ref:"canvas",staticClass:"canvas"})]),a("el-aside",{staticStyle:{width:"400px","min-height":"650px","background-color":"#f0f2f5"}},[e.modeler?a("panel",{attrs:{modeler:e.modeler,users:e.users,groups:e.groups,categorys:e.categorys},on:{dataType:e.dataType}}):e._e()],1)],1)],1)],1)},i=[],s=a("1da1"),n=(a("96cf"),a("ac1f"),a("5319"),a("159b"),a("7db0"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),{"Activate the global connect tool":"激活全局连接工具","Append {type}":"添加 {type}","Add Lane above":"在上面添加道","Divide into two Lanes":"分割成两个道","Divide into three Lanes":"分割成三个道","Add Lane below":"在下面添加道","Append compensation activity":"追加补偿活动","Change type":"修改类型","Connect using Association":"使用关联连接","Connect using Sequence/MessageFlow or Association":"使用顺序/消息流或者关联连接","Connect using DataInputAssociation":"使用数据输入关联连接",Remove:"移除","Activate the hand tool":"激活抓手工具","Activate the lasso tool":"激活套索工具","Activate the create/remove space tool":"激活创建/删除空间工具","Create expanded SubProcess":"创建扩展子过程","Create IntermediateThrowEvent/BoundaryEvent":"创建中间抛出事件/边界事件","Create Pool/Participant":"创建池/参与者","Parallel Multi Instance":"并行多重事件","Sequential Multi Instance":"时序多重事件",DataObjectReference:"数据对象参考",DataStoreReference:"数据存储参考",Loop:"循环","Ad-hoc":"即席","Create {type}":"创建 {type}",Task:"任务","Send Task":"发送任务","Receive Task":"接收任务","User Task":"用户任务","Manual Task":"手工任务","Business Rule Task":"业务规则任务","Service Task":"服务任务","Script Task":"脚本任务","Call Activity":"调用活动","Sub Process (collapsed)":"子流程（折叠的）","Sub Process (expanded)":"子流程（展开的）","Start Event":"开始事件",StartEvent:"开始事件","Intermediate Throw Event":"中间事件","End Event":"结束事件",EndEvent:"结束事件","Create Gateway":"创建网关","Create Intermediate/Boundary Event":"创建中间/边界事件","Message Start Event":"消息开始事件","Timer Start Event":"定时开始事件","Conditional Start Event":"条件开始事件","Signal Start Event":"信号开始事件","Error Start Event":"错误开始事件","Escalation Start Event":"升级开始事件","Compensation Start Event":"补偿开始事件","Message Start Event (non-interrupting)":"消息开始事件（非中断）","Timer Start Event (non-interrupting)":"定时开始事件（非中断）","Conditional Start Event (non-interrupting)":"条件开始事件（非中断）","Signal Start Event (non-interrupting)":"信号开始事件（非中断）","Escalation Start Event (non-interrupting)":"升级开始事件（非中断）","Message Intermediate Catch Event":"消息中间捕获事件","Message Intermediate Throw Event":"消息中间抛出事件","Timer Intermediate Catch Event":"定时中间捕获事件","Escalation Intermediate Throw Event":"升级中间抛出事件","Conditional Intermediate Catch Event":"条件中间捕获事件","Link Intermediate Catch Event":"链接中间捕获事件","Link Intermediate Throw Event":"链接中间抛出事件","Compensation Intermediate Throw Event":"补偿中间抛出事件","Signal Intermediate Catch Event":"信号中间捕获事件","Signal Intermediate Throw Event":"信号中间抛出事件","Message End Event":"消息结束事件","Escalation End Event":"定时结束事件","Error End Event":"错误结束事件","Cancel End Event":"取消结束事件","Compensation End Event":"补偿结束事件","Signal End Event":"信号结束事件","Terminate End Event":"终止结束事件","Message Boundary Event":"消息边界事件","Message Boundary Event (non-interrupting)":"消息边界事件（非中断）","Timer Boundary Event":"定时边界事件","Timer Boundary Event (non-interrupting)":"定时边界事件（非中断）","Escalation Boundary Event":"升级边界事件","Escalation Boundary Event (non-interrupting)":"升级边界事件（非中断）","Conditional Boundary Event":"条件边界事件","Conditional Boundary Event (non-interrupting)":"条件边界事件（非中断）","Error Boundary Event":"错误边界事件","Cancel Boundary Event":"取消边界事件","Signal Boundary Event":"信号边界事件","Signal Boundary Event (non-interrupting)":"信号边界事件（非中断）","Compensation Boundary Event":"补偿边界事件","Exclusive Gateway":"互斥网关","Parallel Gateway":"并行网关","Inclusive Gateway":"相容网关","Complex Gateway":"复杂网关","Event based Gateway":"事件网关",Transaction:"转运","Sub Process":"子流程","Event Sub Process":"事件子流程","Collapsed Pool":"折叠池","Expanded Pool":"展开池","no parent for {element} in {parent}":"在{parent}里，{element}没有父类","no shape type specified":"没有指定的形状类型","flow elements must be children of pools/participants":"流元素必须是池/参与者的子类","out of bounds release":"out of bounds release","more than {count} child lanes":"子道大于{count} ","element required":"元素不能为空","diagram not part of bpmn:Definitions":"流程图不符合bpmn规范","no diagram to display":"没有可展示的流程图","no process or collaboration to display":"没有可展示的流程/协作","element {element} referenced by {referenced}#{property} not yet drawn":"由{referenced}#{property}引用的{element}元素仍未绘制","already rendered {element}":"{element} 已被渲染","failed to import {element}":"导入{element}失败",Id:"标识",Name:"名称",General:"常规",Details:"详情","Message Name":"消息名称",Message:"消息",Initiator:"创建者","Asynchronous Continuations":"持续异步","Asynchronous Before":"异步前","Asynchronous After":"异步后","Job Configuration":"工作配置",Exclusive:"排除","Job Priority":"工作优先级","Retry Time Cycle":"重试时间周期",Documentation:"文档","Element Documentation":"元素文档","History Configuration":"历史配置","History Time To Live":"历史的生存时间",Forms:"表单","Form Key":"表单key","Form Fields":"表单字段","Business Key":"业务key","Form Field":"表单字段",ID:"编号",Type:"类型",Label:"名称","Default Value":"默认值",Validation:"校验","Add Constraint":"添加约束",Config:"配置",Properties:"属性","Add Property":"添加属性",Value:"值",Listeners:"监听器","Execution Listener":"执行监听","Event Type":"事件类型","Listener Type":"监听器类型","Java Class":"Java类",Expression:"表达式","Must provide a value":"必须提供一个值","Delegate Expression":"代理表达式",Script:"脚本","Script Format":"脚本格式","Script Type":"脚本类型","Inline Script":"内联脚本","External Script":"外部脚本",Resource:"资源","Field Injection":"字段注入",Extensions:"扩展","Input/Output":"输入/输出","Input Parameters":"输入参数","Output Parameters":"输出参数",Parameters:"参数","Output Parameter":"输出参数","Timer Definition Type":"定时器定义类型","Timer Definition":"定时器定义",Date:"日期",Duration:"持续",Cycle:"循环",Signal:"信号","Signal Name":"信号名称",Escalation:"升级",Error:"错误","Link Name":"链接名称",Condition:"条件名称","Variable Name":"变量名称","Variable Event":"变量事件","Specify more than one variable change event as a comma separated list.":"多个变量事件以逗号隔开","Wait for Completion":"等待完成","Activity Ref":"活动参考","Version Tag":"版本标签",Executable:"可执行文件","External Task Configuration":"扩展任务配置","Task Priority":"任务优先级",External:"外部",Connector:"连接器","Must configure Connector":"必须配置连接器","Connector Id":"连接器编号",Implementation:"实现方式","Field Injections":"字段注入",Fields:"字段","Result Variable":"结果变量",Topic:"主题","Configure Connector":"配置连接器","Input Parameter":"输入参数",Assignee:"代理人","Candidate Users":"候选用户","Candidate Groups":"候选组","Due Date":"到期时间","Follow Up Date":"跟踪日期",Priority:"优先级","The follow up date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)":"跟踪日期必须符合EL表达式，如： ${someDate} ,或者一个ISO标准日期，如：2015-06-26T09:54:00","The due date as an EL expression (e.g. ${someDate} or an ISO date (e.g. 2015-06-26T09:54:00)":"跟踪日期必须符合EL表达式，如： ${someDate} ,或者一个ISO标准日期，如：2015-06-26T09:54:00",Variables:"变量"}),l={"bpmn:Process":"流程","bpmn:StartEvent":"开始事件","bpmn:IntermediateThrowEvent":"中间事件","bpmn:Task":"任务","bpmn:SendTask":"发送任务","bpmn:ReceiveTask":"接收任务","bpmn:UserTask":"用户任务","bpmn:ManualTask":"手工任务","bpmn:BusinessRuleTask":"业务规则任务","bpmn:ServiceTask":"服务任务","bpmn:ScriptTask":"脚本任务","bpmn:EndEvent":"结束事件","bpmn:SequenceFlow":"流程线","bpmn:ExclusiveGateway":"互斥网关","bpmn:ParallelGateway":"并行网关","bpmn:InclusiveGateway":"相容网关","bpmn:ComplexGateway":"复杂网关","bpmn:EventBasedGateway":"事件网关"};function o(e,t){return t=t||{},e=n[e]||e,e.replace(/{([^}]+)}/g,(function(e,a){var r=t[a];return null!==n[t[a]]&&"undefined"!==n[t[a]]&&(r=n[t[a]]),r||"{"+a+"}"}))}var c=a("7024"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"propertyPanel",staticClass:"property-panel"},[e.nodeName?a("div",{staticClass:"node-name"},[e._v(e._s(e.nodeName))]):e._e(),e.element?a(e.getComponent,{tag:"component",attrs:{element:e.element,modeler:e.modeler,users:e.users,groups:e.groups,categorys:e.categorys},on:{dataType:e.dataType}}):e._e()],1)},d=[],m=(a("caad"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("x-form",{ref:"xForm",attrs:{config:e.formConfig},scopedSlots:e._u([{key:"executionListener",fn:function(){return[a("el-badge",{attrs:{value:e.executionListenerLength}},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogName="executionListenerDialog"}}},[e._v("编辑")])],1)]},proxy:!0},{key:"taskListener",fn:function(){return[a("el-badge",{attrs:{value:e.taskListenerLength}},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogName="taskListenerDialog"}}},[e._v("编辑")])],1)]},proxy:!0},{key:"multiInstance",fn:function(){return[a("el-badge",{attrs:{"is-dot":e.hasMultiInstance}},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogName="multiInstanceDialog"}}},[e._v("编辑")])],1)]},proxy:!0}]),model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}}),"executionListenerDialog"===e.dialogName?a("executionListenerDialog",{attrs:{element:e.element,modeler:e.modeler},on:{close:e.finishExecutionListener}}):e._e(),"taskListenerDialog"===e.dialogName?a("taskListenerDialog",{attrs:{element:e.element,modeler:e.modeler},on:{close:e.finishTaskListener}}):e._e(),"multiInstanceDialog"===e.dialogName?a("multiInstanceDialog",{attrs:{element:e.element,modeler:e.modeler},on:{close:e.finishMultiInstance}}):e._e()],1)}),p=[],f=(a("a15b"),a("4de4"),a("9b3c")),b=a.n(f),h=a("a8b6"),g={"bpmn:EndEvent":{},"bpmn:StartEvent":{initiator:!0,formKey:!0},"bpmn:UserTask":{userType:!0,dataType:!0,assignee:!0,candidateUsers:!0,candidateGroups:!0,async:!0,priority:!0,formKey:!0,skipExpression:!0,dueDate:!0,taskListener:!0},"bpmn:ServiceTask":{async:!0,skipExpression:!0,isForCompensation:!0,triggerable:!0,class:!0},"bpmn:ScriptTask":{async:!0,isForCompensation:!0,autoStoreVariables:!0},"bpmn:ManualTask":{async:!0,isForCompensation:!0},"bpmn:ReceiveTask":{async:!0,isForCompensation:!0},"bpmn:SendTask":{async:!0,isForCompensation:!0},"bpmn:BusinessRuleTask":{async:!0,isForCompensation:!0,ruleVariablesInput:!0,rules:!0,resultVariable:!0,exclude:!0}};h["a"].set({input:{},select:{},colorPicker:{showAlpha:!0},xform:{form:{labelWidth:"auto"}}});var v={components:{xForm:b.a.xForm},props:{modeler:{type:Object,required:!0},element:{type:Object,required:!0},categorys:{type:Array,default:function(){return[]}}},watch:{"formData.name":function(e){this.updateProperties({name:e})},"formData.id":function(e){this.updateProperties({id:e||" "})},"formData.documentation":function(e){if(e){var t=this.modeler.get("moddle").create("bpmn:Documentation",{text:e});this.updateProperties({documentation:[t]})}else this.updateProperties({documentation:[]})}},methods:{updateProperties:function(e){var t=this.modeler.get("modeling");t.updateProperties(this.element,e)}},computed:{elementType:function(){var e=this.element.businessObject;return e.eventDefinitions?e.eventDefinitions[0].$type:e.$type},showConfig:function(){return g[this.elementType]||{}}}},_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{directives:[{name:"drag",rawName:"v-drag"}],attrs:{title:"执行监听器",visible:e.dialogVisible,width:"900px","close-on-click-modal":!0,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(t){e.dialogVisible=t},closed:function(t){return e.$emit("close")}}},[a("x-form",{ref:"xForm",attrs:{config:e.formConfig},scopedSlots:e._u([{key:"params",fn:function(t){return[a("el-badge",{attrs:{value:t.row.params?t.row.params.length:0,type:"primary"}},[a("el-button",{attrs:{size:"small"},on:{click:function(a){return e.configParam(t.$index)}}},[e._v("配置")])],1)]}}]),model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.closeDialog}},[e._v("确 定")])],1)],1),e.showParamDialog?a("listenerParam",{attrs:{value:e.formData.executionListener[e.nowIndex].params},on:{close:e.finishConfigParam}}):e._e()],1)},y=[],w=(a("d81d"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{directives:[{name:"drag",rawName:"v-drag"}],attrs:{title:"监听器参数",visible:e.dialogVisible,width:"700px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(t){e.dialogVisible=t},closed:function(t){return e.$emit("close",e.formData.paramList)}}},[a("x-form",{ref:"xForm",attrs:{config:e.formConfig},model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.closeDialog}},[e._v("确 定")])],1)],1)],1)}),D=[];h["a"].set({input:{},select:{},colorPicker:{showAlpha:!0},xform:{form:{labelWidth:"auto"}}});var x={components:{xForm:b.a.xForm}},k={mixins:[x],props:{value:{type:Array,default:function(){return[]}}},data:function(){return{dialogVisible:!0,formData:{paramList:this.value}}},computed:{formConfig:function(){return{inline:!1,item:[{xType:"tabs",tabs:[{label:"监听器参数",name:"paramList",column:[{label:"类型",name:"type",width:180,rules:[{required:!0,message:"请选择",trigger:["blur","change"]}],xType:"select",dic:[{label:"字符串",value:"stringValue"},{label:"表达式",value:"expression"}]},{label:"名称",name:"name",width:180,rules:[{required:!0,message:"请选择",trigger:["blur","change"]}],xType:"input"},{label:"值",name:"value",xType:"input",rules:[{required:!0,message:"请输入",trigger:["blur","change"]}]}]}]}]}}},methods:{closeDialog:function(){var e=this;this.$refs.xForm.validate().then((function(){e.dialogVisible=!1})).catch((function(e){return console.error(e)}))}}},L=k,S=(a("e0ca"),a("0c7c")),T=Object(S["a"])(L,w,D,!1,null,null,null),P=T.exports,C={components:{listenerParam:P},mixins:[v],data:function(){return{dialogVisible:!0,showParamDialog:!1,nowIndex:null,formData:{executionListener:[]}}},computed:{formConfig:function(){return{inline:!1,item:[{xType:"tabs",tabs:[{label:"执行监听器",name:"executionListener",column:[{label:"事件",name:"event",width:180,rules:[{required:!0,message:"请选择",trigger:["blur","change"]}],xType:"select",dic:[{label:"start",value:"start"},{label:"end",value:"end"},{label:"take",value:"take"}]},{label:"类型",name:"type",width:180,rules:[{required:!0,message:"请选择",trigger:["blur","change"]}],xType:"select",dic:[{label:"类",value:"class"},{label:"表达式",value:"expression"},{label:"委托表达式",value:"delegateExpression"}],tooltip:"类：示例 com.company.MyCustomListener，自定义类必须实现 org.flowable.engine.delegate.TaskListener 接口 <br />\n                              表达式：示例 ${myObject.callMethod(task, task.eventName)} <br />\n                              委托表达式：示例 ${myListenerSpringBean} ，该 springBean 需要实现 org.flowable.engine.delegate.TaskListener 接口\n                    "},{label:"java 类名",name:"className",xType:"input",rules:[{required:!0,message:"请输入",trigger:["blur","change"]}]},{xType:"slot",label:"参数",width:120,slot:!0,name:"params"}]}]}]}}},mounted:function(){var e,t;this.formData.executionListener=null!==(e=null===(t=this.element.businessObject.extensionElements)||void 0===t?void 0:t.values.filter((function(e){return"flowable:ExecutionListener"===e.$type})).map((function(e){var t,a,r;return"class"in e&&(r="class"),"expression"in e&&(r="expression"),"delegateExpression"in e&&(r="delegateExpression"),{event:e.event,type:r,className:e[r],params:null!==(t=null===(a=e.fields)||void 0===a?void 0:a.map((function(e){var t;return"stringValue"in e&&(t="stringValue"),"expression"in e&&(t="expression"),{name:e.name,type:t,value:e[t]}})))&&void 0!==t?t:[]}})))&&void 0!==e?e:[]},methods:{configParam:function(e){this.nowIndex=e;var t=this.formData.executionListener[e];t.params||(t.params=[]),this.showParamDialog=!0},finishConfigParam:function(e){this.showParamDialog=!1;var t=this.formData.executionListener[this.nowIndex];t.params=e,this.$set(this.formData.executionListener[this.nowIndex],this.nowIndex,t),this.nowIndex=null},updateElement:function(){var e,t=this;if(null!==(e=this.formData.executionListener)&&void 0!==e&&e.length){var a,r,i=this.element.businessObject.get("extensionElements");i||(i=this.modeler.get("moddle").create("bpmn:ExtensionElements")),i.values=null!==(a=null===(r=i.values)||void 0===r?void 0:r.filter((function(e){return"flowable:ExecutionListener"!==e.$type})))&&void 0!==a?a:[],this.formData.executionListener.forEach((function(e){var a=t.modeler.get("moddle").create("flowable:ExecutionListener");a["event"]=e.event,a[e.type]=e.className,e.params&&e.params.length&&e.params.forEach((function(e){var r=t.modeler.get("moddle").create("flowable:Field");r["name"]=e.name,r[e.type]=e.value,a.get("fields").push(r)})),i.get("values").push(a)})),this.updateProperties({extensionElements:i})}else{var s,n,l=this.element.businessObject["extensionElements"];if(l)l.values=null!==(s=null===(n=l.values)||void 0===n?void 0:n.filter((function(e){return"flowable:ExecutionListener"!==e.$type})))&&void 0!==s?s:[]}},closeDialog:function(){var e=this;this.$refs.xForm.validate().then((function(){e.updateElement(),e.dialogVisible=!1})).catch((function(e){return console.error(e)}))}}},F=C,E=(a("c6c8"),Object(S["a"])(F,_,y,!1,null,null,null)),N=E.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{directives:[{name:"drag",rawName:"v-drag"}],attrs:{title:"任务监听器",visible:e.dialogVisible,width:"900px","close-on-click-modal":!0,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(t){e.dialogVisible=t},closed:function(t){return e.$emit("close")}}},[a("x-form",{ref:"xForm",attrs:{config:e.formConfig},scopedSlots:e._u([{key:"params",fn:function(t){return[a("el-badge",{attrs:{value:t.row.params?t.row.params.length:0,type:"primary"}},[a("el-button",{attrs:{size:"small"},on:{click:function(a){return e.configParam(t.$index)}}},[e._v("配置")])],1)]}}]),model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.closeDialog}},[e._v("确 定")])],1)],1),e.showParamDialog?a("listenerParam",{attrs:{value:e.formData.taskListener[e.nowIndex].params},on:{close:e.finishConfigParam}}):e._e()],1)},I=[],M={components:{listenerParam:P},mixins:[v],data:function(){return{dialogVisible:!0,showParamDialog:!1,nowIndex:null,formData:{taskListener:[]}}},computed:{formConfig:function(){return{inline:!1,item:[{xType:"tabs",tabs:[{label:"任务监听器",name:"taskListener",column:[{label:"事件",name:"event",width:180,rules:[{required:!0,message:"请选择",trigger:["blur","change"]}],xType:"select",dic:[{label:"create",value:"create"},{label:"assignment",value:"assignment"},{label:"complete",value:"complete"},{label:"delete",value:"delete"}],tooltip:"create（创建）：当任务已经创建，并且所有任务参数都已经设置时触发。<br />\n                              assignment（指派）：当任务已经指派给某人时触发。请注意：当流程执行到达用户任务时，在触发create事件之前，会首先触发assignment事件。<br />\n                              complete（完成）：当任务已经完成，从运行时数据中删除前触发。<br />\n                              delete（删除）：在任务即将被删除前触发。请注意任务由completeTask正常完成时也会触发。\n                    "},{label:"类型",name:"type",width:180,rules:[{required:!0,message:"请选择",trigger:["blur","change"]}],xType:"select",dic:[{label:"类",value:"class"},{label:"表达式",value:"expression"},{label:"委托表达式",value:"delegateExpression"}]},{label:"java 类名",name:"className",xType:"input",rules:[{required:!0,message:"请输入",trigger:["blur","change"]}]},{xType:"slot",label:"参数",width:120,slot:!0,name:"params"}]}]}]}}},mounted:function(){var e,t;this.formData.taskListener=null!==(e=null===(t=this.element.businessObject.extensionElements)||void 0===t?void 0:t.values.filter((function(e){return"flowable:TaskListener"===e.$type})).map((function(e){var t,a,r;return"class"in e&&(r="class"),"expression"in e&&(r="expression"),"delegateExpression"in e&&(r="delegateExpression"),{event:e.event,type:r,className:e[r],params:null!==(t=null===(a=e.fields)||void 0===a?void 0:a.map((function(e){var t;return"stringValue"in e&&(t="stringValue"),"expression"in e&&(t="expression"),{name:e.name,type:t,value:e[t]}})))&&void 0!==t?t:[]}})))&&void 0!==e?e:[]},methods:{configParam:function(e){this.nowIndex=e;var t=this.formData.taskListener[e];t.params||(t.params=[]),this.showParamDialog=!0},finishConfigParam:function(e){this.showParamDialog=!1;var t=this.formData.taskListener[this.nowIndex];t.params=e,this.$set(this.formData.taskListener[this.nowIndex],this.nowIndex,t),this.nowIndex=null},updateElement:function(){var e,t=this;if(null!==(e=this.formData.taskListener)&&void 0!==e&&e.length){var a,r,i=this.element.businessObject.get("extensionElements");i||(i=this.modeler.get("moddle").create("bpmn:ExtensionElements")),i.values=null!==(a=null===(r=i.values)||void 0===r?void 0:r.filter((function(e){return"flowable:TaskListener"!==e.$type})))&&void 0!==a?a:[],this.formData.taskListener.forEach((function(e){var a=t.modeler.get("moddle").create("flowable:TaskListener");a["event"]=e.event,a[e.type]=e.className,e.params&&e.params.length&&e.params.forEach((function(e){var r=t.modeler.get("moddle").create("flowable:Field");r["name"]=e.name,r[e.type]=e.value,a.get("fields").push(r)})),i.get("values").push(a)})),this.updateProperties({extensionElements:i})}else{var s,n,l=this.element.businessObject["extensionElements"];if(l)l.values=null!==(s=null===(n=l.values)||void 0===n?void 0:n.filter((function(e){return"flowable:TaskListener"!==e.$type})))&&void 0!==s?s:[]}},closeDialog:function(){var e=this;this.$refs.xForm.validate().then((function(){e.updateElement(),e.dialogVisible=!1})).catch((function(e){return console.error(e)}))}}},A=M,$=(a("522d"),Object(S["a"])(A,V,I,!1,null,null,null)),q=$.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{directives:[{name:"drag",rawName:"v-drag"}],staticClass:"muti-instance",attrs:{title:"多实例配置",visible:e.dialogVisible,width:"500px","close-on-click-modal":!0,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(t){e.dialogVisible=t},closed:function(t){return e.$emit("close")}}},[a("el-alert",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"info",closable:!1,"show-icon":""},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" 按照BPMN2.0规范的要求，用于为每个实例创建执行的父执行，会提供下列变量:"),a("br"),e._v(" nrOfInstances：实例总数。"),a("br"),e._v(" nrOfActiveInstances：当前活动的（即未完成的），实例数量。对于顺序多实例，这个值总为1。"),a("br"),e._v(" nrOfCompletedInstances：已完成的实例数量。"),a("br"),e._v(" loopCounter：给定实例在for-each循环中的index。"),a("br")]},proxy:!0}])}),a("x-form",{ref:"xForm",attrs:{config:e.formConfig},model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}})],1)],1)},z=[],j=a("5530");a("1276");function R(e){var t=Object(j["a"])(Object(j["a"])({},e.businessObject),e.businessObject.$attrs);return B(t)}function B(e){for(var t in e)if(0===t.indexOf("flowable:")){var a=t.replace("flowable:","");e[a]=e[t],delete e[t]}return e=U(e),e}function U(e){if("documentation"in e){var t="";e.documentation.forEach((function(e){t+=e.text})),e.documentation=t}return e}function G(e){return"conditionExpression"in e&&(e.conditionExpression=e.conditionExpression.body),e}function K(e){for(var t in e){var a;if("candidateUsers"===t)e.userType="candidateUsers",e[t]=(null===(a=e[t])||void 0===a?void 0:a.split(","))||[];else if("candidateGroups"===t){var r;e.userType="candidateGroups",e[t]=(null===(r=e[t])||void 0===r?void 0:r.split(","))||[]}else"assignee"===t&&(e.userType="assignee")}return e}var W={mixins:[v],data:function(){return{dialogVisible:!0,formData:{}}},computed:{formConfig:function(){var e=this;return{inline:!1,item:[{xType:"input",name:"collection",label:"集合",tooltip:"属性会作为表达式进行解析。如果表达式解析为字符串而不是一个集合，<br />不论是因为本身配置的就是静态字符串值，还是表达式计算结果为字符串，<br />这个字符串都会被当做变量名，并从流程变量中用于获取实际的集合。"},{xType:"input",name:"elementVariable",label:"元素变量",tooltip:"每创建一个用户任务前，先以该元素变量为label，集合中的一项为value，<br />创建（局部）流程变量，该局部流程变量被用于指派用户任务。<br />一般来说，该字符串应与指定人员变量相同。"},{xType:"radio",name:"isSequential",label:"执行方式",dic:[{label:"串行",value:!0},{label:"并行",value:!1}]},{xType:"input",name:"completionCondition",label:"完成条件",tooltip:"多实例活动在所有实例都完成时结束，然而也可以指定一个表达式，在每个实例<br />结束时进行计算。当表达式计算为true时，将销毁所有剩余的实例，并结束多实例<br />活动，继续执行流程。例如 ${nrOfCompletedInstances/nrOfInstances >= 0.6 }，<br />表示当任务完成60%时，该节点就算完成"}],operate:[{text:"确定",show:!0,click:e.save},{text:"清空",show:!0,click:function(){e.formData={}}}]}}},mounted:function(){var e,t,a=JSON.parse(JSON.stringify(null!==(e=this.element.businessObject.loopCharacteristics)&&void 0!==e?e:{}));a.completionCondition=null===(t=a.completionCondition)||void 0===t?void 0:t.body,this.formData=B(a)},methods:{updateElement:function(){if(null!==this.formData.isSequential&&void 0!==this.formData.isSequential){var e=this.element.businessObject.get("loopCharacteristics");if(e||(e=this.modeler.get("moddle").create("bpmn:MultiInstanceLoopCharacteristics")),e["isSequential"]=this.formData.isSequential,e["collection"]=this.formData.collection,e["elementVariable"]=this.formData.elementVariable,this.formData.completionCondition){var t=this.modeler.get("moddle").create("bpmn:Expression",{body:this.formData.completionCondition});e["completionCondition"]=t}this.updateProperties({loopCharacteristics:e})}else delete this.element.businessObject.loopCharacteristics},save:function(){this.updateElement(),this.dialogVisible=!1}}},J=W,H=(a("0424"),Object(S["a"])(J,O,z,!1,null,null,null)),X=H.exports,Z={components:{executionListenerDialog:N,taskListenerDialog:q,multiInstanceDialog:X},mixins:[v],props:{users:{type:Array,required:!0},groups:{type:Array,required:!0}},data:function(){return{userTypeOption:[{label:"指定人员",value:"assignee"},{label:"候选人员",value:"candidateUsers"},{label:"候选组",value:"candidateGroups"}],dataTypeOption:[{label:"固定",value:"fixed"},{label:"动态",value:"dynamic"}],dialogName:"",executionListenerLength:0,taskListenerLength:0,hasMultiInstance:!1,formData:{}}},computed:{formConfig:function(){var e=this;return{inline:!1,item:[{xType:"input",name:"id",label:"节点 id",rules:[{required:!0,message:"Id 不能为空"}]},{xType:"input",name:"name",label:"节点名称",rules:[{required:!0,message:"节点名称不能为空"}]},{xType:"input",name:"documentation",label:"节点描述"},{xType:"slot",name:"executionListener",label:"执行监听器"},{xType:"slot",name:"taskListener",label:"任务监听器",show:!!e.showConfig.taskListener},{xType:"select",name:"userType",label:"人员类型",dic:e.userTypeOption,show:!!e.showConfig.userType},{xType:"radio",name:"dataType",label:"指定方式",dic:e.dataTypeOption,show:!!e.showConfig.dataType,rules:[{required:!0,message:"请指定方式"}]},{xType:"select",name:"assignee",label:"指定人员",allowCreate:!0,filterable:!0,dic:{data:e.users,label:"nickName",value:"userId"},show:!!e.showConfig.assignee&&"assignee"===e.formData.userType},{xType:"select",name:"candidateUsers",label:"候选人员",multiple:!0,allowCreate:!0,filterable:!0,dic:{data:e.users,label:"nickName",value:"userId"},show:!!e.showConfig.candidateUsers&&"candidateUsers"===e.formData.userType},{xType:"select",name:"candidateGroups",label:"候选组",multiple:!0,allowCreate:!0,filterable:!0,dic:{data:e.groups,label:"roleName",value:"roleId"},show:!!e.showConfig.candidateGroups&&"candidateGroups"===e.formData.userType},{xType:"slot",name:"multiInstance",label:"多实例"},{xType:"switch",name:"async",label:"异步",activeText:"是",inactiveText:"否",show:!!e.showConfig.async},{xType:"input",name:"priority",label:"优先级",show:!!e.showConfig.priority},{xType:"input",name:"formKey",label:"表单标识key",show:!!e.showConfig.formKey},{xType:"input",name:"skipExpression",label:"跳过表达式",show:!!e.showConfig.skipExpression},{xType:"switch",name:"isForCompensation",label:"是否为补偿",activeText:"是",inactiveText:"否",show:!!e.showConfig.isForCompensation},{xType:"switch",name:"triggerable",label:"服务任务可触发",activeText:"是",inactiveText:"否",show:!!e.showConfig.triggerable},{xType:"switch",name:"autoStoreVariables",label:"自动存储变量",activeText:"是",inactiveText:"否",show:!!e.showConfig.autoStoreVariables},{xType:"input",name:"ruleVariablesInput",label:"输入变量",show:!!e.showConfig.ruleVariablesInput},{xType:"input",name:"rules",label:"规则",show:!!e.showConfig.rules},{xType:"input",name:"resultVariable",label:"结果变量",show:!!e.showConfig.resultVariable},{xType:"switch",name:"exclude",label:"排除",activeText:"是",inactiveText:"否",show:!!e.showConfig.exclude},{xType:"input",name:"class",label:"类",show:!!e.showConfig.class},{xType:"datePicker",type:"datetime",name:"dueDate",label:"到期时间",show:!!e.showConfig.dueDate}]}}},watch:{"formData.userType":function(e,t){var a=this;if(t){var r=["assignee","candidateUsers","candidateGroups"];r.forEach((function(e){delete a.element.businessObject.$attrs["flowable:".concat(e)],delete a.formData[e]}))}},"formData.dataType":function(e){var t=this,a=this;this.updateProperties({"flowable:dataType":e}),"dynamic"===e&&this.updateProperties({"flowable:userType":a.formData.userType});var r=["assignee","candidateUsers","candidateGroups"];r.forEach((function(e){delete t.element.businessObject.$attrs["flowable:".concat(e)],delete t.formData[e]}));var i={dataType:e,userType:this.formData.userType};this.$emit("dataType",i)},"formData.assignee":function(e){"assignee"===this.formData.userType?this.updateProperties({"flowable:assignee":e}):delete this.element.businessObject.$attrs["flowable:assignee"]},"formData.candidateUsers":function(e){"candidateUsers"===this.formData.userType?this.updateProperties({"flowable:candidateUsers":null===e||void 0===e?void 0:e.join(",")}):delete this.element.businessObject.$attrs["flowable:candidateUsers"]},"formData.candidateGroups":function(e){"candidateGroups"===this.formData.userType?this.updateProperties({"flowable:candidateGroups":null===e||void 0===e?void 0:e.join(",")}):delete this.element.businessObject.$attrs["flowable:candidateGroups"]},"formData.async":function(e){""===e&&(e=null),this.updateProperties({"flowable:async":!0})},"formData.dueDate":function(e){""===e&&(e=null),this.updateProperties({"flowable:dueDate":e})},"formData.formKey":function(e){""===e&&(e=null),this.updateProperties({"flowable:formKey":e})},"formData.priority":function(e){""===e&&(e=null),this.updateProperties({"flowable:priority":e})},"formData.skipExpression":function(e){""===e&&(e=null),this.updateProperties({"flowable:skipExpression":e})},"formData.isForCompensation":function(e){""===e&&(e=null),this.updateProperties({isForCompensation:e})},"formData.triggerable":function(e){""===e&&(e=null),this.updateProperties({"flowable:triggerable":e})},"formData.class":function(e){""===e&&(e=null),this.updateProperties({"flowable:class":e})},"formData.autoStoreVariables":function(e){""===e&&(e=null),this.updateProperties({"flowable:autoStoreVariables":e})},"formData.exclude":function(e){""===e&&(e=null),this.updateProperties({"flowable:exclude":e})},"formData.ruleVariablesInput":function(e){""===e&&(e=null),this.updateProperties({"flowable:ruleVariablesInput":e})},"formData.rules":function(e){""===e&&(e=null),this.updateProperties({"flowable:rules":e})},"formData.resultVariable":function(e){""===e&&(e=null),this.updateProperties({"flowable:resultVariable":e})}},created:function(){var e=R(this.element);e=K(e),this.formData=e,this.computedExecutionListenerLength(),this.computedTaskListenerLength(),this.computedHasMultiInstance()},methods:{computedExecutionListenerLength:function(){var e,t,a;this.executionListenerLength=null!==(e=null===(t=this.element.businessObject.extensionElements)||void 0===t||null===(a=t.values)||void 0===a?void 0:a.filter((function(e){return"flowable:ExecutionListener"===e.$type})).length)&&void 0!==e?e:0},computedTaskListenerLength:function(){var e,t,a;this.taskListenerLength=null!==(e=null===(t=this.element.businessObject.extensionElements)||void 0===t||null===(a=t.values)||void 0===a?void 0:a.filter((function(e){return"flowable:TaskListener"===e.$type})).length)&&void 0!==e?e:0},computedHasMultiInstance:function(){this.element.businessObject.loopCharacteristics?this.hasMultiInstance=!0:this.hasMultiInstance=!1},finishExecutionListener:function(){"executionListenerDialog"===this.dialogName&&this.computedExecutionListenerLength(),this.dialogName=""},finishTaskListener:function(){"taskListenerDialog"===this.dialogName&&this.computedTaskListenerLength(),this.dialogName=""},finishMultiInstance:function(){"multiInstanceDialog"===this.dialogName&&this.computedHasMultiInstance(),this.dialogName=""}}},Q=Z,Y=Object(S["a"])(Q,m,p,!1,null,null,null),ee=Y.exports,te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("x-form",{ref:"xForm",attrs:{config:e.formConfig},scopedSlots:e._u([{key:"executionListener",fn:function(){return[a("el-badge",{attrs:{value:e.executionListenerLength}},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogName="executionListenerDialog"}}},[e._v("编辑")])],1)]},proxy:!0}]),model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}}),"executionListenerDialog"===e.dialogName?a("executionListenerDialog",{attrs:{element:e.element,modeler:e.modeler},on:{close:e.finishExecutionListener}}):e._e()],1)},ae=[],re={components:{executionListenerDialog:N},data:function(){return{executionListenerLength:0,dialogName:null}},methods:{computedExecutionListenerLength:function(){var e,t,a;this.executionListenerLength=null!==(e=null===(t=this.element.businessObject.extensionElements)||void 0===t||null===(a=t.values)||void 0===a?void 0:a.length)&&void 0!==e?e:0},finishExecutionListener:function(){"executionListenerDialog"===this.dialogName&&this.computedExecutionListenerLength(),this.dialogName=""}}},ie={mixins:[v,re],data:function(){return{formData:{}}},computed:{formConfig:function(){var e=this;return{inline:!1,item:[{xType:"input",name:"id",label:"节点 id",rules:[{required:!0,message:"Id 不能为空"}]},{xType:"input",name:"name",label:"节点名称"},{xType:"input",name:"documentation",label:"节点描述"},{xType:"slot",name:"executionListener",label:"执行监听器"},{xType:"input",name:"initiator",label:"发起人",show:!!e.showConfig.initiator},{xType:"input",name:"formKey",label:"表单标识key",show:!!e.showConfig.formKey}]}}},watch:{"formData.initiator":function(e){""===e&&(e=null),this.updateProperties({"flowable:initiator":e})},"formData.formKey":function(e){""===e&&(e=null),this.updateProperties({"flowable:formKey":e})}},created:function(){this.formData=R(this.element)}},se=ie,ne=Object(S["a"])(se,te,ae,!1,null,null,null),le=ne.exports,oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("x-form",{ref:"xForm",attrs:{config:e.formConfig},scopedSlots:e._u([{key:"executionListener",fn:function(){return[a("el-badge",{attrs:{value:e.executionListenerLength}},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogName="executionListenerDialog"}}},[e._v("编辑")])],1)]},proxy:!0},{key:"signal",fn:function(){return[a("el-badge",{attrs:{value:e.signalLength}},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogName="signalDialog"}}},[e._v("编辑")])],1)]},proxy:!0}]),model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}}),"executionListenerDialog"===e.dialogName?a("executionListenerDialog",{attrs:{element:e.element,modeler:e.modeler},on:{close:e.finishExecutionListener}}):e._e(),"signalDialog"===e.dialogName?a("signalDialog",{attrs:{element:e.element,modeler:e.modeler},on:{close:e.finishExecutionListener}}):e._e()],1)},ce=[],ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{directives:[{name:"drag",rawName:"v-drag"}],attrs:{title:"信号定义",visible:e.dialogVisible,width:"700px","close-on-click-modal":!0,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(t){e.dialogVisible=t},closed:function(t){return e.$emit("close")}}},[a("x-form",{ref:"xForm",attrs:{config:e.formConfig},model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.closeDialog}},[e._v("确 定")])],1)],1)],1)},de=[],me={mixins:[v],data:function(){return{dialogVisible:!0,formData:{signal:[]}}},computed:{formConfig:function(){return{inline:!1,item:[{xType:"tabs",tabs:[{label:"信号定义",name:"signal",column:[{label:"scope",name:"scope",width:180,rules:[{required:!0,message:"请选择",trigger:["blur","change"]}],xType:"select",dic:[{label:"全局",value:"start"},{label:"流程实例",value:"end"}]},{label:"id",name:"id",width:200,rules:[{required:!0,message:"请输入",trigger:["blur","change"]}],xType:"input"},{label:"名称",name:"name",xType:"input",rules:[{required:!0,message:"请输入",trigger:["blur","change"]}]}]}]}]}}},mounted:function(){},methods:{updateElement:function(){var e;if(null!==(e=this.formData.signal)&&void 0!==e&&e.length){var t=this.element.businessObject.get("extensionElements");t||(t=this.modeler.get("moddle").create("bpmn:signal"));for(var a=t.get("values").length,r=0;r<a;r++)t.get("values").pop();this.updateProperties({extensionElements:t})}else{var i,s=this.element.businessObject["extensionElements"];if(s)s.values=null===(i=s.values)||void 0===i?void 0:i.filter((function(e){return"flowable:ExecutionListener"!==e.$type}))}},closeDialog:function(){var e=this;this.$refs.xForm.validate().then((function(){e.updateElement(),e.dialogVisible=!1})).catch((function(e){return console.error(e)}))}}},pe=me,fe=(a("095a"),Object(S["a"])(pe,ue,de,!1,null,null,null)),be=fe.exports,he={components:{signalDialog:be},mixins:[v,re],data:function(){return{signalLength:0,formData:{}}},computed:{formConfig:function(){var e=this;return{inline:!1,item:[{xType:"select",name:"processCategory",label:"流程分类",dic:{data:e.categorys,label:"dictLabel",value:"dictValue"},rules:[{required:!0,message:"流程分类不能为空"}]},{xType:"input",name:"id",label:"流程标识",rules:[{required:!0,message:"流程标识不能为空"}]},{xType:"input",name:"name",label:"流程名称",rules:[{required:!0,message:"流程名称不能为空"}]},{xType:"input",name:"documentation",label:"节点描述"},{xType:"slot",name:"executionListener",label:"执行监听器"},{xType:"slot",name:"signal",label:"信号定义"}]}}},watch:{"formData.processCategory":function(e){""===e&&(e=null),this.updateProperties({"flowable:processCategory":e})}},created:function(){this.formData=R(this.element)},methods:{computedSignalLength:function(){var e,t,a;this.signalLength=null!==(e=null===(t=this.element.businessObject.extensionElements)||void 0===t||null===(a=t.values)||void 0===a?void 0:a.length)&&void 0!==e?e:0},finishSignal:function(){"signalDialog"===this.dialogName&&this.computedSignalLength(),this.dialogName=""}}},ge=he,ve=Object(S["a"])(ge,oe,ce,!1,null,null,null),_e=ve.exports,ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("x-form",{ref:"xForm",attrs:{config:e.formConfig},scopedSlots:e._u([{key:"executionListener",fn:function(){return[a("el-badge",{attrs:{value:e.executionListenerLength}},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogName="executionListenerDialog"}}},[e._v("编辑")])],1)]},proxy:!0}]),model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}}),"executionListenerDialog"===e.dialogName?a("executionListenerDialog",{attrs:{element:e.element,modeler:e.modeler},on:{close:e.finishExecutionListener}}):e._e()],1)},we=[],De={mixins:[v,re],data:function(){return{formData:{}}},computed:{formConfig:function(){return{inline:!1,item:[{xType:"input",name:"id",label:"节点 id",rules:[{required:!0,message:"Id 不能为空"}]},{xType:"input",name:"name",label:"节点名称"},{xType:"input",name:"documentation",label:"节点描述"},{xType:"slot",name:"executionListener",label:"执行监听器"},{xType:"input",name:"conditionExpression",label:"跳转条件"},{xType:"input",name:"skipExpression",label:"跳过表达式"}]}}},watch:{"formData.conditionExpression":function(e){if(e){var t=this.modeler.get("moddle").create("bpmn:FormalExpression",{body:e});this.updateProperties({conditionExpression:t})}else this.updateProperties({conditionExpression:null})},"formData.skipExpression":function(e){""===e&&(e=null),this.updateProperties({"flowable:skipExpression":e})}},created:function(){var e=R(this.element);e=G(e),this.formData=e}},xe=De,ke=Object(S["a"])(xe,ye,we,!1,null,null,null),Le=ke.exports,Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("x-form",{ref:"xForm",attrs:{config:e.formConfig},scopedSlots:e._u([{key:"executionListener",fn:function(){return[a("el-badge",{attrs:{value:e.executionListenerLength}},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogName="executionListenerDialog"}}},[e._v("编辑")])],1)]},proxy:!0}]),model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}}),"executionListenerDialog"===e.dialogName?a("executionListenerDialog",{attrs:{element:e.element,modeler:e.modeler},on:{close:e.finishExecutionListener}}):e._e()],1)},Te=[],Pe={mixins:[v,re],data:function(){return{formData:{}}},computed:{formConfig:function(){return{inline:!1,item:[{xType:"input",name:"id",label:"节点 id",rules:[{required:!0,message:"Id 不能为空"}]},{xType:"input",name:"name",label:"节点名称"},{xType:"input",name:"documentation",label:"节点描述"},{xType:"slot",name:"executionListener",label:"执行监听器"},{xType:"switch",name:"async",label:"异步",activeText:"是",inactiveText:"否"}]}}},watch:{"formData.async":function(e){""===e&&(e=null),this.updateProperties({"flowable:async":e})}},created:function(){this.formData=R(this.element)}},Ce=Pe,Fe=Object(S["a"])(Ce,Se,Te,!1,null,null,null),Ee=Fe.exports,Ne={name:"PropertyPanel",components:{processPanel:_e,taskPanel:ee,startEndPanel:le,sequenceFlowPanel:Le,gatewayPanel:Ee},props:{users:{type:Array,required:!0},groups:{type:Array,required:!0},categorys:{type:Array,required:!0},modeler:{type:Object,required:!0}},data:function(){return{element:null,form:{id:"",name:"",color:null},roles:[{value:"manager",label:"经理"},{value:"personnel",label:"人事"},{value:"charge",label:"主管"}]}},computed:{getComponent:function(){var e,t=null===(e=this.element)||void 0===e?void 0:e.type;return["bpmn:IntermediateThrowEvent","bpmn:StartEvent","bpmn:EndEvent"].includes(t)?"startEndPanel":["bpmn:UserTask","bpmn:Task","bpmn:SendTask","bpmn:ReceiveTask","bpmn:ManualTask","bpmn:BusinessRuleTask","bpmn:ServiceTask","bpmn:ScriptTask"].includes(t)?"taskPanel":"bpmn:SequenceFlow"===t?"sequenceFlowPanel":["bpmn:InclusiveGateway","bpmn:ExclusiveGateway","bpmn:ParallelGateway","bpmn:EventBasedGateway"].includes(t)?"gatewayPanel":"bpmn:Process"===t?"processPanel":null},nodeName:function(){if(this.element){var e=this.element.businessObject,t=null!==e&&void 0!==e&&e.eventDefinitions?e.eventDefinitions[0].$type:e.$type;return l[t]||t}return""}},mounted:function(){this.handleModeler()},methods:{handleModeler:function(){var e=this;this.modeler.on("root.added",(function(t){"bpmn:Process"===t.element.type&&(e.element=null,e.$nextTick().then((function(){e.element=t.element})))})),this.modeler.on("element.click",(function(t){var a=t.element;"bpmn:Process"===a.type&&(e.element=a)})),this.modeler.on("selection.changed",(function(t){e.element=null;var a=t.newSelection[0];a&&e.$nextTick().then((function(){e.element=a}))}))},dataType:function(e){this.$emit("dataType",e)}}},Ve=Ne,Ie=(a("99fe"),Object(S["a"])(Ve,u,d,!1,null,"1aacdce4",null)),Me=Ie.exports,Ae=a("d4ec"),$e=a("bee2"),qe=function(){function e(){Object(Ae["a"])(this,e),this.controls=[],this.init()}return Object($e["a"])(e,[{key:"init",value:function(){this.controls=[{action:"create.start-event",title:"开始"},{action:"create.intermediate-event",title:"中间"},{action:"create.end-event",title:"结束"},{action:"create.exclusive-gateway",title:"网关"},{action:"create.task",title:"任务"},{action:"create.user-task",title:"用户任务"},{action:"create.user-sign-task",title:"会签任务"},{action:"create.subprocess-expanded",title:"子流程"},{action:"create.data-object",title:"数据对象"},{action:"create.data-store",title:"数据存储"},{action:"create.participant-expanded",title:"扩展流程"},{action:"create.group",title:"分组"}]}},{key:"getControl",value:function(e){var t=this.controls.filter((function(t){return t.action===e}));return t[0]||{}}}]),e}();a("fb6a"),a("25f0"),a("99af");function Oe(){return Math.random().toString(36).slice(-8)}var ze=function(){return'<?xml version="1.0" encoding="UTF-8"?>\n    <definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:omgdc="http://www.omg.org/spec/DD/20100524/DC" xmlns:bioc="http://bpmn.io/schema/bpmn/biocolor/1.0" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:flowable="http://flowable.org/bpmn" targetNamespace="http://www.flowable.org/processdef">\n      <process id="process_'.concat(Oe(),'" name="name_').concat(Oe(),'">\n        <startEvent id="startNode1" name="开始" />\n      </process>\n      <bpmndi:BPMNDiagram id="BPMNDiagram_flow">\n        <bpmndi:BPMNPlane id="BPMNPlane_flow" bpmnElement="T-2d89e7a3-ba79-4abd-9f64-ea59621c258c">\n          <bpmndi:BPMNShape id="BPMNShape_startNode1" bpmnElement="startNode1" bioc:stroke="">\n            <omgdc:Bounds x="240" y="200" width="30" height="30" />\n            <bpmndi:BPMNLabel>\n              <omgdc:Bounds x="242" y="237" width="23" height="14" />\n            </bpmndi:BPMNLabel>\n          </bpmndi:BPMNShape>\n        </bpmndi:BPMNPlane>\n      </bpmndi:BPMNDiagram>\n    </definitions>\n    ')},je=a("2730"),Re={name:"WorkflowBpmnModeler",components:{panel:Me},props:{xml:{type:String,default:""},users:{type:Array,default:function(){return[]}},groups:{type:Array,default:function(){return[]}},categorys:{type:Array,default:function(){return[]}},isView:{type:Boolean,default:!1},taskList:{type:Array,default:function(){return[]}}},data:function(){return{modeler:null,zoom:1}},watch:{xml:function(e){e&&this.createNewDiagram(e)}},mounted:function(){this.modeler=new c["a"]({container:this.$refs.canvas,additionalModules:[{translate:["value",o]}],moddleExtensions:{flowable:je}}),this.xml?this.createNewDiagram(this.xml):this.newDiagram()},methods:{newDiagram:function(){this.createNewDiagram(ze())},fitViewport:function(){this.zoom=this.modeler.get("canvas").zoom("fit-viewport");var e=document.querySelector(".flow-containers .viewport").getBBox(),t=this.modeler.get("canvas").viewbox(),a={x:e.x+e.width/2-65,y:e.y+e.height/2};this.modeler.get("canvas").viewbox({x:a.x-t.width/2,y:a.y-t.height/2,width:t.width,height:t.height}),this.zoom=e.width/t.width*1.8},zoomViewport:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.zoom=this.modeler.get("canvas").zoom(),this.zoom+=e?.1:-.1,this.modeler.get("canvas").zoom(this.zoom)},createNewDiagram:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e=e.replace(/<!\[CDATA\[(.+?)]]>/g,(function(e,t){return t.replace(/</g,"&lt;")})),a.prev=1,a.next=4,t.modeler.importXML(e);case 4:t.adjustPalette(),t.fitViewport(),void 0!==t.taskList&&t.taskList.length>0&&t.fillColor(),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](1),console.error(a.t0.message,a.t0.warnings);case 12:case"end":return a.stop()}}),a,null,[[1,9]])})))()},adjustPalette:function(){try{var e=this.$refs.canvas,t=e.children[0].children[1].children[4],a={width:"130px",padding:"5px",background:"white",left:"20px",borderRadius:0};for(var r in a)t.style[r]=a[r];var i=t.children[0],s=i.children;for(var n in s[0].style["display"]="none",s){var l=s[n];for(var o in l.children){var c=l.children[o],u={display:"flex",justifyContent:"flex-start",alignItems:"center",width:"100%",padding:"5px"};if(c.className&&c.dataset&&-1!==c.className.indexOf("entry")){var d=(new qe).getControl(c.dataset.action);for(var m in c.innerHTML="<div style='font-size: 14px;font-weight:500;margin-left:15px;'>".concat(d["title"],"</div>"),u)c.style[m]=u[m]}}}}catch(p){console.log(p)}},fillColor:function(){var e=this,t=this.modeler.get("canvas");this.modeler._definitions.rootElements[0].flowElements.forEach((function(a){var r,i=e.taskList.find((function(e){return e.key===a.id})),s=e.taskList.find((function(e){return!e.completed})),n=e.taskList[e.taskList.length-1];if("bpmn:UserTask"===a.$type)i&&(t.addMarker(a.id,i.completed?"highlight":"highlight-todo"),null===(r=a.outgoing)||void 0===r||r.forEach((function(a){var r=e.taskList.find((function(e){return e.key===a.targetRef.id}));r&&(s&&i.key===s.key&&!s.completed?(t.addMarker(a.id,s.completed?"highlight":"highlight-todo"),t.addMarker(a.targetRef.id,s.completed?"highlight":"highlight-todo")):(t.addMarker(a.id,r.completed?"highlight":"highlight-todo"),t.addMarker(a.targetRef.id,r.completed?"highlight":"highlight-todo")))})));else if("bpmn:ExclusiveGateway"===a.$type){var l;if(i)t.addMarker(a.id,i.completed?"highlight":"highlight-todo"),null===(l=a.outgoing)||void 0===l||l.forEach((function(a){var r=e.taskList.find((function(e){return e.key===a.targetRef.id}));r&&(t.addMarker(a.id,r.completed?"highlight":"highlight-todo"),t.addMarker(a.targetRef.id,r.completed?"highlight":"highlight-todo"))}))}else if("bpmn:ParallelGateway"===a.$type){var o;if(i)t.addMarker(a.id,i.completed?"highlight":"highlight-todo"),null===(o=a.outgoing)||void 0===o||o.forEach((function(a){var r=e.taskList.find((function(e){return e.key===a.targetRef.id}));r&&(t.addMarker(a.id,r.completed?"highlight":"highlight-todo"),t.addMarker(a.targetRef.id,r.completed?"highlight":"highlight-todo"))}))}else if("bpmn:StartEvent"===a.$type)a.outgoing.forEach((function(r){var i=e.taskList.find((function(e){return e.key===r.targetRef.id}));if(i)return t.addMarker(r.id,"highlight"),void t.addMarker(a.id,"highlight")}));else if("bpmn:EndEvent"===a.$type&&n.key===a.id&&n.completed)return void t.addMarker(a.id,"highlight")}))},getProcess:function(){var e=this.getProcessElement();return{id:e.id,name:e.name,category:e.$attrs["flowable:processCategory"]}},getProcessElement:function(){for(var e=this.modeler.getDefinitions().rootElements,t=0;t<e.length;t++)if("bpmn:Process"===e[t].$type)return e[t]},saveXML:function(){var e=arguments,t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.length>0&&void 0!==e[0]&&e[0],a.prev=1,a.next=4,t.modeler.saveXML({format:!0});case 4:return i=a.sent,s=i.xml,r&&t.downloadFile("".concat(t.getProcessElement().name,".bpmn20.xml"),s,"application/xml"),a.abrupt("return",s);case 10:a.prev=10,a.t0=a["catch"](1),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[1,10]])})))()},showXML:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.modeler.saveXML({format:!0});case 3:a=t.sent,r=a.xml,e.$emit("showXML",r),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},saveImg:function(){var e=arguments,t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.length>0&&void 0!==e[0]?e[0]:"svg",r=e.length>1&&void 0!==e[1]&&e[1],a.prev=2,a.next=5,t.modeler.saveSVG({format:!0});case 5:return i=a.sent,s=i.svg,r&&t.downloadFile(t.getProcessElement().name,s,"image/svg+xml"),a.abrupt("return",s);case 11:a.prev=11,a.t0=a["catch"](2),console.log(a.t0);case 14:case"end":return a.stop()}}),a,null,[[2,11]])})))()},save:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.$refs),a=e.getProcess(),t.next=4,e.saveXML();case 4:return r=t.sent,t.next=7,e.saveImg();case 7:i=t.sent,s={process:a,xml:r,svg:i},e.$emit("save",s),window.parent.postMessage(s,"*");case 11:case"end":return t.stop()}}),t)})))()},openBpmn:function(e){var t=this,a=new FileReader;return a.readAsText(e,"utf-8"),a.onload=function(){t.createNewDiagram(a.result)},!1},downloadFile:function(e,t,a){var r=document.createElement("a"),i=window.URL.createObjectURL(new Blob([t],{type:a}));r.href=i,r.download=e,r.click(),window.URL.revokeObjectURL(i)},dataType:function(e){this.$emit("dataType",e)}}},Be=Re,Ue=(a("2ea6"),Object(S["a"])(Be,r,i,!1,null,null,null)),Ge=Ue.exports;Ge.install=function(e){return e.component(Ge.name,Ge)};t["a"]=Ge},c6c8:function(e,t,a){"use strict";a("a9ff")},ce0b:function(e,t,a){},ceb4:function(e,t,a){},d34f:function(e,t,a){},dafd:function(e,t,a){"use strict";a("66a4")},e0ca:function(e,t,a){"use strict";a("ffbd")},e779:function(e,t,a){"use strict";a("ceb4")},fd31:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("el-form",{ref:"FormData",attrs:{"label-width":"90px",model:e.FormData,rules:e.rules}},[a("el-row",[a("el-col",{attrs:{span:24}},[e.setVisable("title")?a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{attrs:{placeholder:"请输入标题",size:"small",disabled:e.setDisable("title")},model:{value:e.FormData.title,callback:function(t){e.$set(e.FormData,"title",t)},expression:"FormData.title"}})],1):e._e()],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[e.setVisable("orderType")?a("el-form-item",{attrs:{label:"订单类型",prop:"orderType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择类型",size:"small",disabled:e.setDisable("orderType")},model:{value:e.FormData.orderType,callback:function(t){e.$set(e.FormData,"orderType",t)},expression:"FormData.orderType"}},e._l(e.orderTypes,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1):e._e()],1),a("el-col",{attrs:{span:8}},[e.setVisable("preSalesId")?a("el-form-item",{attrs:{label:"选择售前",prop:"preSalesId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("preSalesId")},model:{value:e.FormData.preSalesId,callback:function(t){e.$set(e.FormData,"preSalesId",t)},expression:"FormData.preSalesId"}},e._l(e.preSalesList,(function(e){return a("el-option",{key:e.userId,attrs:{label:e.userName,value:e.userId}})})),1)],1):e._e()],1),a("el-col",{attrs:{span:8}},[e.setVisable("bizType")?a("el-form-item",{attrs:{label:"业务类型",prop:"bizType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("bizType")},model:{value:e.FormData.bizType,callback:function(t){e.$set(e.FormData,"bizType",t)},expression:"FormData.bizType"}},e._l(e.bizTypes,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1):e._e()],1)],1),a("el-row",[a("el-col",{attrs:{span:e.setVisable("bizType")&&e.associatedOrderVisible?8:0}},[e.setVisable("bizType")&&e.associatedOrderVisible?a("el-form-item",{attrs:{label:"关联订单",prop:"orderId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"","remote-method":function(t){return e.remoteMethod(t,"order")},clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("bizType")},model:{value:e.FormData.orderId,callback:function(t){e.$set(e.FormData,"orderId",t)},expression:"FormData.orderId"}},e._l(e.associatedOrderList,(function(e){return a("el-option",{key:e.orderId,attrs:{label:e.title,value:e.orderId}})})),1)],1):e._e()],1),a("el-col",{attrs:{span:e.setVisable("bizType")&&e.associatedOrderVisible?8:12}},[e.setVisable("customerNo")&&e.isStart&&!e.bizDetail?a("el-form-item",{attrs:{label:"关联客户",prop:"customerNo"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"","remote-method":function(t){return e.remoteMethod(t,"customer")},clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("customerNo")},on:{change:e.selectChange,clear:e.clearCustomerInfo},model:{value:e.FormData.customerNo,callback:function(t){e.$set(e.FormData,"customerNo",t)},expression:"FormData.customerNo"}},e._l(e.customerList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e.isStart?e._e():a("el-form-item",{attrs:{label:"关联客户",prop:"customerNo"}},[a("el-input",{attrs:{disabled:"",size:"small"},model:{value:e.FormData.customerName,callback:function(t){e.$set(e.FormData,"customerName",t)},expression:"FormData.customerName"}})],1),e.bizDetail?a("el-form-item",{attrs:{label:"关联客户",prop:"customerNo"}},[a("el-input",{attrs:{disabled:"",size:"small"},model:{value:e.FormData.customerName,callback:function(t){e.$set(e.FormData,"customerName",t)},expression:"FormData.customerName"}})],1):e._e()],1),a("el-col",{attrs:{span:e.setVisable("bizType")&&e.associatedOrderVisible?8:10,offset:e.setVisable("bizType")&&e.associatedOrderVisible?0:2}},[e.setVisable("involveNonStandard")?a("el-form-item",{attrs:{label:"是否涉及非标产品",prop:"involveNonStandard","label-width":"140px"}},[a("el-radio-group",{attrs:{disabled:e.setDisable("involveNonStandard")},model:{value:e.FormData.involveNonStandard,callback:function(t){e.$set(e.FormData,"involveNonStandard",t)},expression:"FormData.involveNonStandard"}},[a("el-radio",{attrs:{label:!0}},[e._v("是")]),a("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1):e._e()],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[e.setVisable("customerNo")?a("el-form-item",{attrs:{label:"客户联系人"}},[a("el-input",{attrs:{disabled:"",size:"small","suffix-icon":"el-icon-s-custom"},model:{value:e.FormData.customerContacts,callback:function(t){e.$set(e.FormData,"customerContacts",t)},expression:"FormData.customerContacts"}})],1):e._e()],1),a("el-col",{attrs:{span:8}},[e.setVisable("customerNo")?a("el-form-item",{attrs:{label:"邮箱",prop:"customerEmail"}},[a("el-input",{attrs:{size:"small","suffix-icon":"el-icon-message",disabled:""},model:{value:e.FormData.customerEmail,callback:function(t){e.$set(e.FormData,"customerEmail",t)},expression:"FormData.customerEmail"}})],1):e._e()],1),a("el-col",{attrs:{span:8}},[e.setVisable("customerNo")?a("el-form-item",{attrs:{label:"电话",prop:"customerPhoneNo"}},[a("el-input",{attrs:{size:"small","suffix-icon":"el-icon-mobile-phone",disabled:""},model:{value:e.FormData.customerPhoneNo,callback:function(t){e.$set(e.FormData,"customerPhoneNo",t)},expression:"FormData.customerPhoneNo"}})],1):e._e()],1)],1),e.setVisable("remarks")?a("el-form-item",{attrs:{label:"备注："}},[a("el-input",{attrs:{type:"textarea",size:"small",disabled:e.setDisable("remarks")},model:{value:e.FormData.remarks,callback:function(t){e.$set(e.FormData,"remarks",t)},expression:"FormData.remarks"}})],1):e._e(),e.setVisable("standardProducts")?a("div",{staticClass:"addRow"},[a("div",{staticClass:"formTitle"},[e._v("服务内容-标准产品")]),e.setDisable("standardProducts")?e._e():a("div",{directives:[{name:"show",rawName:"v-show",value:e.btnVisable,expression:"btnVisable"}],staticClass:"el-icon-circle-plus-outline",on:{click:function(t){return e.addRow(1)}}})]):e._e(),e.setVisable("standardProducts")?a("el-table",{staticClass:"table-fixed",staticStyle:{width:"100%"},attrs:{border:"","show-summary":"","summary-method":e.getSummaries,data:e.FormData.portList,"header-cell-style":{"text-align":"center"}}},[e.setVisable("port_portNo")?a("el-table-column",{attrs:{width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"portList."+t.$index+".portNo",rules:e.rules.portNo}},[a("el-cascader",{attrs:{disabled:e.setDisable("port_portNo"),options:e.portProductList},model:{value:t.row.portNo,callback:function(a){e.$set(t.row,"portNo",a)},expression:"scope.row.portNo"}})],1)]}}],null,!1,2809109134)},[a("template",{slot:"header"},[e._v(" 选择骨干网端口产品"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("port_siteAddr")?a("el-table-column",{attrs:{width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"portList."+t.$index+".siteAddr",rules:e.rules.siteAddr}},[a("el-input",{attrs:{placeholder:"请输入站点地址",size:"small",disabled:e.setDisable("port_siteAddr")},model:{value:t.row.siteAddr,callback:function(a){e.$set(t.row,"siteAddr",a)},expression:"scope.row.siteAddr"}})],1)]}}],null,!1,1526200550)},[a("template",{slot:"header"},[e._v(" 站点地址"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("port_bandwidth")?a("el-table-column",{attrs:{width:"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"portList."+t.$index+".bandwidth",rules:e.rules.bandwidth}},[a("el-input",{attrs:{placeholder:"请输入带宽(Mbps)",size:"small",disabled:e.setDisable("port_bandwidth")},model:{value:t.row.bandwidth,callback:function(a){e.$set(t.row,"bandwidth",a)},expression:"scope.row.bandwidth"}})],1)]}}],null,!1,202398880)},[a("template",{slot:"header"},[e._v(" 带宽(Mbps)"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("port_popNo")?a("el-table-column",{attrs:{label:"接入PoP",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("port_popNo")},model:{value:t.row.popNo,callback:function(a){e.$set(t.row,"popNo",a)},expression:"scope.row.popNo"}},e._l(e.popList,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)]}}],null,!1,366699301)}):e._e(),e.setVisable("port_quantity")?a("el-table-column",{attrs:{width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"portList."+t.$index+".quantity",rules:e.rules.quantity}},[a("el-input",{attrs:{placeholder:"请输入数量",size:"small",disabled:e.setDisable("port_quantity")},model:{value:t.row.quantity,callback:function(a){e.$set(t.row,"quantity",a)},expression:"scope.row.quantity"}})],1)]}}],null,!1,1707939625)},[a("template",{slot:"header"},[e._v(" 数量(项)"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("port_oneTimeFee")?a("el-table-column",{attrs:{width:"180",prop:"oneTimeFee"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"portList."+t.$index+".oneTimeFee",rules:e.rules.oneTimeFee}},[a("el-input",{attrs:{placeholder:"请输入骨干网端口一次性费用",size:"small",disabled:e.setDisable("port_oneTimeFee")},model:{value:t.row.oneTimeFee,callback:function(a){e.$set(t.row,"oneTimeFee",a)},expression:"scope.row.oneTimeFee"}})],1)]}}],null,!1,907836326)},[a("template",{slot:"header"},[e._v(" 骨干网端口一次性费用"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("port_oneTimeMgtFee")?a("el-table-column",{attrs:{label:"骨干网端口一次性费用管理价",width:"190",prop:"oneTimeMgtFee"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入骨干网端口一次性费用管理价",size:"small",disabled:e.setDisable("port_oneTimeMgtFee")},model:{value:t.row.oneTimeMgtFee,callback:function(a){e.$set(t.row,"oneTimeMgtFee",a)},expression:"scope.row.oneTimeMgtFee"}})]}}],null,!1,2507494746)}):e._e(),e.setVisable("port_price")?a("el-table-column",{attrs:{width:"180",prop:"price"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"portList."+t.$index+".price",rules:e.rules.price}},[a("el-input",{attrs:{placeholder:"请输入骨干网端口销售价",size:"small",disabled:e.setDisable("port_price")},model:{value:t.row.price,callback:function(a){e.$set(t.row,"price",a)},expression:"scope.row.price"}})],1)]}}],null,!1,2294341672)},[a("template",{slot:"header"},[e._v(" 骨干网端口销售价(元/月)"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("port_expDeliveryDate")?a("el-table-column",{attrs:{label:"期望交付日期",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",size:"small",disabled:e.setDisable("port_expDeliveryDate")},model:{value:t.row.expDeliveryDate,callback:function(a){e.$set(t.row,"expDeliveryDate",a)},expression:"scope.row.expDeliveryDate"}})]}}],null,!1,114726772)}):e._e(),e.setVisable("port_remarks")?a("el-table-column",{attrs:{label:"备注",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入备注",size:"small",disabled:e.setDisable("port_remarks")},model:{value:t.row.remarks,callback:function(a){e.$set(t.row,"remarks",a)},expression:"scope.row.remarks"}})]}}],null,!1,1911703349)}):e._e(),e.setVisable("port_delete")?a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small",disabled:e.setDisable("port_delete")},on:{click:function(a){return e.deleteRow(t.row,1)}}},[e._v(" 移除 ")])]}}],null,!1,460472450)}):e._e()],1):e._e(),e.setVisable("standardProducts")?a("div",{staticStyle:{"text-align":"right","padding-right":"20px","margin-top":"20px"}},[e.setDisable("standardProducts")?e._e():a("div",{directives:[{name:"show",rawName:"v-show",value:e.btnVisable,expression:"btnVisable"}],staticClass:"el-icon-circle-plus-outline",on:{click:function(t){return e.addRow(2)}}})]):e._e(),e.setVisable("standardProducts")?a("el-table",{staticClass:"table-fixed",staticStyle:{width:"100%","margin-top":"10px","margin-bottom":"20px"},attrs:{border:"","show-summary":"","summary-method":e.getSummaries2,data:e.FormData.deviceList,"header-cell-style":{"text-align":"center"}}},[e.setVisable("device_deviceNo")?a("el-table-column",{attrs:{width:"160",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"deviceList."+t.$index+".deviceNo",rules:e.rules.deviceNo}},[a("el-cascader",{attrs:{disabled:e.setDisable("device_deviceNo"),options:e.otherStardPro},model:{value:t.row.deviceNo,callback:function(a){e.$set(t.row,"deviceNo",a)},expression:"scope.row.deviceNo"}})],1)]}}],null,!1,589542631)},[a("template",{slot:"header"},[e._v(" 选择其他标准产品"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("device_siteAddr")?a("el-table-column",{attrs:{width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"deviceList."+t.$index+".siteAddr",rules:e.rules.devSiteUrl}},[a("el-input",{attrs:{placeholder:"请输入站点地址",size:"small",disabled:e.setDisable("device_siteAddr")},model:{value:t.row.siteAddr,callback:function(a){e.$set(t.row,"siteAddr",a)},expression:"scope.row.siteAddr"}})],1)]}}],null,!1,4254445353)},[a("template",{slot:"header"},[e._v(" 站点地址"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("device_quantity")?a("el-table-column",{attrs:{width:"150",prop:"quantity"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"deviceList."+t.$index+".quantity",rules:e.rules.devAmount}},[a("el-input",{attrs:{placeholder:"请输入数量",size:"small",disabled:e.setDisable("device_quantity")},model:{value:t.row.quantity,callback:function(a){e.$set(t.row,"quantity",a)},expression:"scope.row.quantity"}})],1)]}}],null,!1,3800596585)},[a("template",{slot:"header"},[e._v(" 数量(个)"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("device_oneTimeFee")?a("el-table-column",{attrs:{width:"180",prop:"oneTimeFee"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"deviceList."+t.$index+".oneTimeFee",rules:e.rules.devOneTimeCost}},[a("el-input",{attrs:{placeholder:"请输入其他标准产品一次性费用",size:"small",disabled:e.setDisable("device_oneTimeFee")},model:{value:t.row.oneTimeFee,callback:function(a){e.$set(t.row,"oneTimeFee",a)},expression:"scope.row.oneTimeFee"}})],1)]}}],null,!1,1354012348)},[a("template",{slot:"header"},[e._v(" 其他标准产品一次性费用"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("device_oneTimeMgtFee")?a("el-table-column",{attrs:{label:"其他标准产品一次性费用管理价",width:"210",prop:"oneTimeMgtFee"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入其他标准产品一次性费用管理价",size:"small",disabled:e.setDisable("device_oneTimeMgtFee")},model:{value:t.row.oneTimeMgtFee,callback:function(a){e.$set(t.row,"oneTimeMgtFee",a)},expression:"scope.row.oneTimeMgtFee"}})]}}],null,!1,2560961275)}):e._e(),e.setVisable("device_price")?a("el-table-column",{attrs:{width:"200",prop:"price"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"deviceList."+t.$index+".price",rules:e.rules.devSalesPrice}},[a("el-input",{attrs:{placeholder:"请输入其他标准产品销售价格(元/月)",size:"small",disabled:e.setDisable("device_price")},model:{value:t.row.price,callback:function(a){e.$set(t.row,"price",a)},expression:"scope.row.price"}})],1)]}}],null,!1,2986169454)},[a("template",{slot:"header"},[e._v(" 其他标准产品销售价格(元/月)"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("device_devManageUnitPrice")?a("el-table-column",{attrs:{label:"其他标准产品管理单价(元/台/月)",width:"220",prop:"devManageUnitPrice"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入其他标准产品管理单价(元/台/月)",disabled:"",size:"small"},model:{value:t.row.devManageUnitPrice,callback:function(a){e.$set(t.row,"devManageUnitPrice",a)},expression:"scope.row.devManageUnitPrice"}})]}}],null,!1,371874638)}):e._e(),e.setVisable("device_devManagePrice")?a("el-table-column",{attrs:{label:"其他标准产品管理价(元/月)",width:"180",prop:"devManagePrice"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{type:"number",disabled:"",size:"small"},model:{value:t.row.devManagePrice,callback:function(a){e.$set(t.row,"devManagePrice",a)},expression:"scope.row.devManagePrice"}})]}}],null,!1,3680794569)}):e._e(),e.setVisable("device_remarks")?a("el-table-column",{attrs:{label:"备注",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入备注",size:"small",disabled:e.setDisable("device_remarks")},model:{value:t.row.remarks,callback:function(a){e.$set(t.row,"remarks",a)},expression:"scope.row.remarks"}})]}}],null,!1,2421238068)}):e._e(),e.setVisable("device_delete")?a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small",disabled:e.setDisable("device_delete")},on:{click:function(a){return e.deleteRow(t.row,2)}}},[e._v(" 移除 ")])]}}],null,!1,635015584)}):e._e()],1):e._e(),e.setVisable("standardProducts")?a("div",{staticStyle:{"font-size":"14px",color:"#ccc","line-height":"20px"}},[a("div",{staticStyle:{"font-size":"14px"}},[e._v("合计销售利润率（标准产品）（%）")]),a("div",[e._v("0.00")])]):e._e(),e.FormData.involveNonStandard?a("div",[e.setVisable("NonStandardProducts")?a("div",{staticClass:"formTitle"},[e._v("服务内容-非标产品")]):e._e(),e.setVisable("NonStandardProducts")?a("el-form-item",{attrs:{label:"非标产品类型",prop:"prdTypeList","label-width":"250"}},[a("el-checkbox-group",{attrs:{disabled:e.setDisable("NonStandardProducts")},model:{value:e.FormData.prdTypeList,callback:function(t){e.$set(e.FormData,"prdTypeList",t)},expression:"FormData.prdTypeList"}},e._l(e.tabList,(function(t,r){return a("el-checkbox",{key:r,attrs:{label:t.name}},[e._v(e._s(t.label))])})),1)],1):e._e(),e.setVisable("NonStandardProducts")?a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e._l(e.tabList,(function(e,t){return a("el-tab-pane",{key:t,attrs:{label:e.label,name:e.name}})})),a("nonStandardProForm",{ref:"child",attrs:{is_Show:e.isShow,selected:e.selected,formValue:e.formValue,taskFormValue:e.taskFormValue,flowAuthSettingList:e.flowAuthSettingList,isStart:e.isStart,isDetail:e.isDetail}})],2):e._e()],1):e._e(),e.setVisable("involveOtherFee")?a("el-form-item",{attrs:{label:"是否涉及其他费用",prop:"involveOtherFee","label-width":"140px"}},[a("el-radio-group",{attrs:{disabled:e.setDisable("involveOtherFee")},model:{value:e.FormData.involveOtherFee,callback:function(t){e.$set(e.FormData,"involveOtherFee",t)},expression:"FormData.involveOtherFee"}},[a("el-radio",{attrs:{label:!0}},[e._v("是")]),a("el-radio",{attrs:{label:!1}},[e._v("否")])],1)],1):e._e(),e.FormData.involveOtherFee?a("div",[e.setVisable("otherFeeDesc")||e.setVisable("otherFee")||e.setVisable("otherFeePayType")?a("div",{staticClass:"formTitle"},[e._v("其他费用")]):e._e(),a("el-row",[a("el-col",{attrs:{span:8}},[e.setVisable("otherFeeDesc")?a("el-form-item",{attrs:{label:"费用说明",prop:"otherFeeDesc"}},[a("el-input",{attrs:{size:"small",disabled:e.setDisable("otherFeeDesc")},model:{value:e.FormData.otherFeeDesc,callback:function(t){e.$set(e.FormData,"otherFeeDesc",t)},expression:"FormData.otherFeeDesc"}})],1):e._e()],1),a("el-col",{attrs:{span:8}},[e.setVisable("otherFee")?a("el-form-item",{attrs:{label:"费用金额",prop:"otherFee"}},[a("el-input",{attrs:{size:"small",disabled:e.setDisable("otherFee")},model:{value:e.FormData.otherFee,callback:function(t){e.$set(e.FormData,"otherFee",t)},expression:"FormData.otherFee"}})],1):e._e()],1),a("el-col",{attrs:{span:8}},[e.setVisable("otherFeePayType")?a("el-form-item",{attrs:{label:"支付方式",prop:"otherFeePayType"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("otherFeePayType")},model:{value:e.FormData.otherFeePayType,callback:function(t){e.$set(e.FormData,"otherFeePayType",t)},expression:"FormData.otherFeePayType"}},e._l(e.feepayTypes,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1):e._e()],1)],1)],1):e._e(),e.setVisable("currencyType")||e.setVisable("serviceDuration")||e.setVisable("totalContractAmount")?a("div",{staticClass:"formTitle"},[e._v("合计汇总")]):e._e(),a("el-row",[a("el-col",{attrs:{span:8}},[e.setVisable("currencyType")?a("el-form-item",{attrs:{label:"结算货币",prop:"currencyType"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("currencyType")},model:{value:e.FormData.currencyType,callback:function(t){e.$set(e.FormData,"currencyType",t)},expression:"FormData.currencyType"}},e._l(e.currencyTypeList,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1):e._e()],1),a("el-col",{attrs:{span:8}},[e.setVisable("serviceDuration")?a("el-form-item",{attrs:{label:"服务期(月)",prop:"serviceDuration"}},[a("el-input",{attrs:{size:"small",disabled:e.setDisable("serviceDuration")},model:{value:e.FormData.serviceDuration,callback:function(t){e.$set(e.FormData,"serviceDuration",t)},expression:"FormData.serviceDuration"}})],1):e._e()],1),a("el-col",{attrs:{span:8}},[e.setVisable("totalContractAmount")?a("el-form-item",{attrs:{label:"总合同额"}},[a("el-input",{attrs:{disabled:"",size:"small"},model:{value:e.FormData.totalContractAmount,callback:function(t){e.$set(e.FormData,"totalContractAmount",t)},expression:"FormData.totalContractAmount"}})],1):e._e()],1)],1),e.btnVisable?a("el-form-item",{staticStyle:{"text-align":"center"},attrs:{"label-width":"0"}},[e.btnHidden?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("FormData")}}},[e._v("提交")]):e._e(),e.btnHidden?a("el-button",{on:{click:function(t){return e.resetForm("FormData")}}},[e._v("重置")]):e._e()],1):e._e()],1)],1)},i=[],s=(a("159b"),a("4de4"),a("b0c0"),a("d81d"),a("a9e3"),a("13d5"),a("c0c7")),n=a("3ab9"),l=a("6881"),o=a("1538"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"tableData",attrs:{model:e.tableData,rules:e.rules}},["first"==e.is_Show&&e.selected.includes("first")?a("div",[a("div",{staticClass:"addRow"},[e.setDisable("NonStandardProducts")?e._e():a("div",{staticClass:"el-icon-circle-plus-outline",on:{click:function(t){return e.addRow(1)}}})]),a("el-table",{staticClass:"table-fixed",staticStyle:{width:"100%"},attrs:{border:"","show-summary":"","summary-method":e.getSummaries,data:e.tableData.mplsIpsecList,"header-cell-style":{"text-align":"center"}}},[e.setVisable("MPLS_prodNo")?a("el-table-column",{attrs:{width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"mplsIpsecList."+t.$index+".prodNo",rules:{required:!0,message:"请选择关联产品",trigger:"change"}}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("MPLS_prodNo")},model:{value:t.row.prodNo,callback:function(a){e.$set(t.row,"prodNo",a)},expression:"scope.row.prodNo"}},e._l(e.MplsIpsecPro_list,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)]}}],null,!1,1056997869)},[a("template",{slot:"header"},[e._v(" 关联产品"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("MPLS_isp")?a("el-table-column",{attrs:{width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"mplsIpsecList."+t.$index+".isp",rules:{required:!0,message:"请选择运营商",trigger:"change"}}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("MPLS_isp")},model:{value:t.row.isp,callback:function(a){e.$set(t.row,"isp",a)},expression:"scope.row.isp"}},e._l(e.operatorList,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)]}}],null,!1,1328536801)},[a("template",{slot:"header"},[e._v(" 运营商"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("MPLS_addr")?a("el-table-column",{attrs:{width:"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"mplsIpsecList."+t.$index+".addr",rules:{required:!0,message:"请输入接入地址",trigger:"blur"}}},[a("el-input",{attrs:{placeholder:"请输入接入地址",size:"small",disabled:e.setDisable("MPLS_addr")},model:{value:t.row.addr,callback:function(a){e.$set(t.row,"addr",a)},expression:"scope.row.addr"}})],1)]}}],null,!1,2161728290)},[a("template",{slot:"header"},[e._v(" 接入地址"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("MPLS_popNo")?a("el-table-column",{attrs:{width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"mplsIpsecList."+t.$index+".popNo",rules:e.rules.popNo}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("MPLS_popNo")},model:{value:t.row.popNo,callback:function(a){e.$set(t.row,"popNo",a)},expression:"scope.row.popNo"}},e._l(e.popList,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)]}}],null,!1,2708746789)},[a("template",{slot:"header"},[e._v(" 接入PoP"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("MPLS_bandwidth")?a("el-table-column",{attrs:{width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"mplsIpsecList."+t.$index+".bandwidth",rules:e.rules.bandwidth}},[a("el-input",{attrs:{placeholder:"请输入带宽（Mbps)",size:"small",disabled:e.setDisable("MPLS_bandwidth")},model:{value:t.row.bandwidth,callback:function(a){e.$set(t.row,"bandwidth",a)},expression:"scope.row.bandwidth"}})],1)]}}],null,!1,3885778156)},[a("template",{slot:"header"},[e._v(" 带宽(Mbps)"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("MPLS_unitPrice")?a("el-table-column",{attrs:{label:"VPN销售单价(元/项/月)",width:"190",prop:"unitPrice"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入VPN销售单价",size:"small",disabled:e.setDisable("MPLS_unitPrice")},model:{value:t.row.unitPrice,callback:function(a){e.$set(t.row,"unitPrice",a)},expression:"scope.row.unitPrice"}})]}}],null,!1,312007493)}):e._e(),e.setVisable("MPLS_quantity")?a("el-table-column",{attrs:{width:"180",prop:"quantity"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"mplsIpsecList."+t.$index+".quantity",rules:e.rules.quantity}},[a("el-input",{attrs:{placeholder:"请输入数量（项）",size:"small",disabled:e.setDisable("MPLS_quantity")},model:{value:t.row.quantity,callback:function(a){e.$set(t.row,"quantity",a)},expression:"scope.row.quantity"}})],1)]}}],null,!1,3029465981)},[a("template",{slot:"header"},[e._v(" 数量（项）"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("MPLS_oneTimeFee")?a("el-table-column",{attrs:{width:"190",prop:"oneTimeFee"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"mplsIpsecList."+t.$index+".oneTimeFee",rules:e.rules.oneTimeFee}},[a("el-input",{attrs:{placeholder:"请输入VPN一次性费用",size:"small",disabled:e.setDisable("MPLS_oneTimeFee")},model:{value:t.row.oneTimeFee,callback:function(a){e.$set(t.row,"oneTimeFee",a)},expression:"scope.row.oneTimeFee"}})],1)]}}],null,!1,1011860549)},[a("template",{slot:"header"},[e._v(" VPN一次性费用"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("MPLS_oneTimeMgtFee")?a("el-table-column",{attrs:{label:"VPN一次性费用管理价",width:"190",prop:"oneTimeMgtFee"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入VPN一次性费用管理价",size:"small",disabled:e.setDisable("MPLS_oneTimeMgtFee")},model:{value:t.row.oneTimeMgtFee,callback:function(a){e.$set(t.row,"oneTimeMgtFee",a)},expression:"scope.row.oneTimeMgtFee"}})]}}],null,!1,56420046)}):e._e(),e.setVisable("MPLS_salesPrice")?a("el-table-column",{attrs:{label:"VPN销售价(元/月）",width:"190",prop:"salesPrice"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{disabled:"",value:"0.00",size:"small"},model:{value:t.row.salesPrice,callback:function(a){e.$set(t.row,"salesPrice",a)},expression:"scope.row.salesPrice"}})]}}],null,!1,3090349625)}):e._e(),e.setVisable("MPLS_deliveryDate")?a("el-table-column",{attrs:{label:"交付截至日期",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",size:"small",disabled:e.setDisable("MPLS_deliveryDate")},model:{value:t.row.deliveryDate,callback:function(a){e.$set(t.row,"deliveryDate",a)},expression:"scope.row.deliveryDate"}})]}}],null,!1,3916634863)}):e._e(),e.setVisable("MPLS_remarks")?a("el-table-column",{attrs:{label:"备注",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入备注",size:"small",disabled:e.setDisable("MPLS_remarks")},model:{value:t.row.remarks,callback:function(a){e.$set(t.row,"remarks",a)},expression:"scope.row.remarks"}})]}}],null,!1,1856945518)}):e._e(),e.setVisable("MPLS_purchaseRemarks")?a("el-table-column",{attrs:{label:"采购备注信息",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入备注",size:"small",disabled:e.setDisable("MPLS_purchaseRemarks")},model:{value:t.row.purchaseRemarks,callback:function(a){e.$set(t.row,"purchaseRemarks",a)},expression:"scope.row.purchaseRemarks"}})]}}],null,!1,2909726606)}):e._e(),e.setVisable("MPLS_delete")?a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small",disabled:e.setDisable("MPLS_delete")},on:{click:function(a){return e.deleteRow(t.row,1)}}},[e._v(" 移除 ")])]}}],null,!1,1801994041)}):e._e()],1)],1):e._e(),"first"==e.is_Show?a("div",{staticClass:"mt"},[a("div",{staticStyle:{"font-size":"12px","margin-bottom":"10px"}},[e._v("合计销售利润率(MPLS/IPSec)(%)")]),a("div",[a("el-input",{attrs:{disabled:"",value:"0.00",size:"small"}})],1)]):e._e(),"second"==e.is_Show&&e.selected.includes("second")?a("div",[a("div",{staticClass:"addRow"},[e.setDisable("NonStandardProducts")?e._e():a("div",{staticClass:"el-icon-circle-plus-outline",on:{click:function(t){return e.addRow(2)}}})]),a("el-table",{staticClass:"table-fixed",staticStyle:{width:"100%"},attrs:{border:"","show-summary":"","summary-method":e.getSummaries,data:e.tableData.specialLineList,"header-cell-style":{"text-align":"center"}}},[e.setVisable("SL_prodNo")?a("el-table-column",{attrs:{width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"specialLineList."+t.$index+".prodNo",rules:e.rules.s_prodNo}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("SL_prodNo")},model:{value:t.row.prodNo,callback:function(a){e.$set(t.row,"prodNo",a)},expression:"scope.row.prodNo"}},e._l(e.speialLinePro_list,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)]}}],null,!1,53777188)},[a("template",{slot:"header"},[e._v(" 关联产品"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("SL_isp")?a("el-table-column",{attrs:{width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"specialLineList."+t.$index+".isp",rules:e.rules.s_isp}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("SL_isp")},model:{value:t.row.isp,callback:function(a){e.$set(t.row,"isp",a)},expression:"scope.row.isp"}},e._l(e.operatorList,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)]}}],null,!1,1998325338)},[a("template",{slot:"header"},[e._v(" 运营商"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("SL_aAddr")?a("el-table-column",{attrs:{width:"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"specialLineList."+t.$index+".aAddr",rules:e.rules.aAddr}},[a("el-input",{attrs:{placeholder:"请输入A端地址",size:"small",disabled:e.setDisable("SL_aAddr")},model:{value:t.row.aAddr,callback:function(a){e.$set(t.row,"aAddr",a)},expression:"scope.row.aAddr"}})],1)]}}],null,!1,2297097144)},[a("template",{slot:"header"},[e._v(" A端地址"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("SL_aPortType")?a("el-table-column",{attrs:{width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"specialLineList."+t.$index+".aPortType",rules:e.rules.aPortType}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("SL_aPortType")},model:{value:t.row.aPortType,callback:function(a){e.$set(t.row,"aPortType",a)},expression:"scope.row.aPortType"}},e._l(e.aPortTypeList,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)]}}],null,!1,1164759542)},[a("template",{slot:"header"},[e._v(" A端端口类型"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("SL_zAddr")?a("el-table-column",{attrs:{width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"specialLineList."+t.$index+".zAddr",rules:e.rules.zAddr}},[a("el-input",{attrs:{placeholder:"请输入Z端地址",size:"small",disabled:e.setDisable("SL_zAddr")},model:{value:t.row.zAddr,callback:function(a){e.$set(t.row,"zAddr",a)},expression:"scope.row.zAddr"}})],1)]}}],null,!1,4084543299)},[a("template",{slot:"header"},[e._v(" Z端地址"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("SL_zPortType")?a("el-table-column",{attrs:{width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"specialLineList."+t.$index+".zPortType",rules:e.rules.zPortType}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("SL_zPortType")},model:{value:t.row.zPortType,callback:function(a){e.$set(t.row,"zPortType",a)},expression:"scope.row.zPortType"}},e._l(e.zPortTypeList,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)]}}],null,!1,1854118157)},[a("template",{slot:"header"},[e._v(" Z端端口类型"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("SL_bandwidth")?a("el-table-column",{attrs:{width:"180",prop:"bandwidth"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"specialLineList."+t.$index+".bandwidth",rules:e.rules.s_bandwidth}},[a("el-input",{attrs:{placeholder:"请输入带宽(Mbps)",size:"small",disabled:e.setDisable("SL_bandwidth")},model:{value:t.row.bandwidth,callback:function(a){e.$set(t.row,"bandwidth",a)},expression:"scope.row.bandwidth"}})],1)]}}],null,!1,3918664860)},[a("template",{slot:"header"},[e._v(" 带宽(Mbps)"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("SL_unitPrice")?a("el-table-column",{attrs:{label:"专线销售单价（元/项/月）",width:"190",prop:"unitPrice"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入专线销售单价",size:"small",disabled:e.setDisable("SL_unitPrice")},model:{value:t.row.unitPrice,callback:function(a){e.$set(t.row,"unitPrice",a)},expression:"scope.row.unitPrice"}})]}}],null,!1,1553063580)}):e._e(),e.setVisable("SL_quantity")?a("el-table-column",{attrs:{width:"180",prop:"quantity"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"specialLineList."+t.$index+".quantity",rules:e.rules.s_quantity}},[a("el-input",{attrs:{placeholder:"请输入专线数量",size:"small",disabled:e.setDisable("SL_quantity")},model:{value:t.row.quantity,callback:function(a){e.$set(t.row,"quantity",a)},expression:"scope.row.quantity"}})],1)]}}],null,!1,3614162489)},[a("template",{slot:"header"},[e._v(" 专线数量"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("SL_oneTimeFee")?a("el-table-column",{attrs:{width:"180",prop:"oneTimeFee"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"specialLineList."+t.$index+".oneTimeFee",rules:e.rules.s_oneTimeFee}},[a("el-input",{attrs:{placeholder:"请输专线一次性费用",size:"small",disabled:e.setDisable("SL_oneTimeFee")},model:{value:t.row.oneTimeFee,callback:function(a){e.$set(t.row,"oneTimeFee",a)},expression:"scope.row.oneTimeFee"}})],1)]}}],null,!1,3293662260)},[a("template",{slot:"header"},[e._v(" 专线一次性费用"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("SL_oneTimeMgtFee")?a("el-table-column",{attrs:{label:"专线一次性费用管理价",width:"190",prop:"oneTimeMgtFee"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入专线一次性费用管理价",size:"small",disabled:e.setDisable("SL_oneTimeMgtFee")},model:{value:t.row.oneTimeMgtFee,callback:function(a){e.$set(t.row,"oneTimeMgtFee",a)},expression:"scope.row.oneTimeMgtFee"}})]}}],null,!1,963838391)}):e._e(),e.setVisable("SL_salesPrice")?a("el-table-column",{attrs:{label:"专线销售价（元/月）",width:"250",prop:"salesPrice"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入专线销售价",size:"small",disabled:e.setDisable("SL_salesPrice")},model:{value:t.row.salesPrice,callback:function(a){e.$set(t.row,"salesPrice",a)},expression:"scope.row.salesPrice"}})]}}],null,!1,3457604265)}):e._e(),e.setVisable("SL_deliveryDate")?a("el-table-column",{attrs:{label:"交付截至日期",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",size:"small",disabled:e.setDisable("SL_deliveryDate")},model:{value:t.row.deliveryDate,callback:function(a){e.$set(t.row,"deliveryDate",a)},expression:"scope.row.deliveryDate"}})]}}],null,!1,857164466)}):e._e(),e.setVisable("SL_remarks")?a("el-table-column",{attrs:{label:"备注",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入备注",size:"small",disabled:e.setDisable("SL_remarks")},model:{value:t.row.remarks,callback:function(a){e.$set(t.row,"remarks",a)},expression:"scope.row.remarks"}})]}}],null,!1,3568194643)}):e._e(),e.setVisable("SL_delete")?a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small",disabled:e.setDisable("SL_delete")},on:{click:function(a){return e.deleteRow(t.row,2)}}},[e._v(" 移除 ")])]}}],null,!1,1759128423)}):e._e()],1)],1):e._e(),"second"==e.is_Show?a("div",{staticClass:"mt"},[a("div",{staticStyle:{"font-size":"12px","margin-bottom":"10px"}},[e._v("合计销售利润率(专线)(%)")]),a("div",[a("el-input",{attrs:{disabled:"",value:"0.00",size:"small"}})],1)]):e._e(),"third"==e.is_Show&&e.selected.includes("third")?a("div",[a("div",{staticClass:"addRow"},[e.setDisable("NonStandardProducts")?e._e():a("div",{staticClass:"el-icon-circle-plus-outline",on:{click:function(t){return e.addRow(3)}}})]),a("el-table",{staticClass:"table-fixed",staticStyle:{width:"100%"},attrs:{border:"","show-summary":"","summary-method":e.getSummaries,data:e.tableData.internetList,"header-cell-style":{"text-align":"center"}}},[e.setVisable("internet_prodNo")?a("el-table-column",{attrs:{width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"internetList."+t.$index+".prodNo",rules:e.rules.i_prodNo}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("internet_prodNo")},model:{value:t.row.prodNo,callback:function(a){e.$set(t.row,"prodNo",a)},expression:"scope.row.prodNo"}},e._l(e.InternetPro_list,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)]}}],null,!1,2103462169)},[a("template",{slot:"header"},[e._v(" 关联产品"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("internet_isp")?a("el-table-column",{attrs:{width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"internetList."+t.$index+".isp",rules:e.rules.i_isp}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("internet_isp")},model:{value:t.row.isp,callback:function(a){e.$set(t.row,"isp",a)},expression:"scope.row.isp"}},e._l(e.operatorList,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)]}}],null,!1,2642511664)},[a("template",{slot:"header"},[e._v(" 运营商"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("internet_addr")?a("el-table-column",{attrs:{width:"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"internetList."+t.$index+".addr",rules:e.rules.i_addr}},[a("el-input",{attrs:{placeholder:"请输入站点地址",size:"small",disabled:e.setDisable("internet_addr")},model:{value:t.row.addr,callback:function(a){e.$set(t.row,"addr",a)},expression:"scope.row.addr"}})],1)]}}],null,!1,2763638352)},[a("template",{slot:"header"},[e._v(" 站点地址"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("internet_portType")?a("el-table-column",{attrs:{width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"internetList."+t.$index+".portType",rules:e.rules.i_portType}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("internet_portType")},model:{value:t.row.portType,callback:function(a){e.$set(t.row,"portType",a)},expression:"scope.row.portType"}},e._l(e.portTypeList,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)]}}],null,!1,2680761457)},[a("template",{slot:"header"},[e._v(" 端口类型"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("internet_bandwidth")?a("el-table-column",{attrs:{width:"180",prop:"bandwidth"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"internetList."+t.$index+".bandwidth",rules:e.rules.i_bandwidth}},[a("el-input",{attrs:{placeholder:"请输入带宽(Mbps)",size:"small",disabled:e.setDisable("internet_bandwidth")},model:{value:t.row.bandwidth,callback:function(a){e.$set(t.row,"bandwidth",a)},expression:"scope.row.bandwidth"}})],1)]}}],null,!1,849501814)},[a("template",{slot:"header"},[e._v(" 带宽(Mbps)"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("internet_ipCount")?a("el-table-column",{attrs:{width:"180",prop:"ipCount"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"internetList."+t.$index+".ipCount",rules:e.rules.ipCount}},[a("el-input",{attrs:{placeholder:"请输入IP数量",size:"small",disabled:e.setDisable("internet_ipCount")},model:{value:t.row.ipCount,callback:function(a){e.$set(t.row,"ipCount",a)},expression:"scope.row.ipCount"}})],1)]}}],null,!1,164356592)},[a("template",{slot:"header"},[e._v(" IP数量"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("internet_upDownSymmetry")?a("el-table-column",{attrs:{width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"internetList."+t.$index+".upDownSymmetry",rules:e.rules.upDownSymmetry}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("internet_upDownSymmetry")},model:{value:t.row.upDownSymmetry,callback:function(a){e.$set(t.row,"upDownSymmetry",a)},expression:"scope.row.upDownSymmetry"}},e._l(e.upDownSymmetry,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)]}}],null,!1,1630001827)},[a("template",{slot:"header"},[e._v(" 上下行对称"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("internet_quantity")?a("el-table-column",{attrs:{width:"180",prop:"quantity"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"internetList."+t.$index+".quantity",rules:e.rules.i_quantity}},[a("el-input",{attrs:{placeholder:"请输入数量",size:"small",disabled:e.setDisable("internet_quantity")},model:{value:t.row.quantity,callback:function(a){e.$set(t.row,"quantity",a)},expression:"scope.row.quantity"}})],1)]}}],null,!1,3083927103)},[a("template",{slot:"header"},[e._v(" 数量"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("internet_unitPrice")?a("el-table-column",{attrs:{width:"220",prop:"unitPrice"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"internetList."+t.$index+".unitPrice",rules:e.rules.i_unitPrice}},[a("el-input",{attrs:{placeholder:"请输入Internet 销售单价",size:"small",disabled:e.setDisable("internet_unitPrice")},model:{value:t.row.unitPrice,callback:function(a){e.$set(t.row,"unitPrice",a)},expression:"scope.row.unitPrice"}})],1)]}}],null,!1,2206247447)},[a("template",{slot:"header"},[e._v(" Internet 销售单价（元/项/月）"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("internet_oneTimeFee")?a("el-table-column",{attrs:{label:"Internet 一次性费用",width:"190",prop:"oneTimeFee"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"Internet 一次性费用",size:"small",disabled:e.setDisable("internet_oneTimeFee")},model:{value:t.row.oneTimeFee,callback:function(a){e.$set(t.row,"oneTimeFee",a)},expression:"scope.row.oneTimeFee"}})]}}],null,!1,2773700053)}):e._e(),e.setVisable("internet_oneTimeMgtFee")?a("el-table-column",{attrs:{label:"Internet 一次性费用管理价",width:"250",prop:"oneTimeMgtFee"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入Internet 一次性费用管理价",size:"small",disabled:e.setDisable("internet_oneTimeMgtFee")},model:{value:t.row.oneTimeMgtFee,callback:function(a){e.$set(t.row,"oneTimeMgtFee",a)},expression:"scope.row.oneTimeMgtFee"}})]}}],null,!1,975075204)}):e._e(),e.setVisable("internet_salesPrice")?a("el-table-column",{attrs:{label:"Internet 销售价（元/月）",width:"250",prop:"salesPrice"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入Internet 销售价（元/月）",size:"small",disabled:e.setDisable("internet_salesPrice")},model:{value:t.row.salesPrice,callback:function(a){e.$set(t.row,"salesPrice",a)},expression:"scope.row.salesPrice"}})]}}],null,!1,1344642911)}):e._e(),e.setVisable("internet_deliveryDate")?a("el-table-column",{attrs:{label:"交付截至日期",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",size:"small",disabled:e.setDisable("internet_deliveryDate")},model:{value:t.row.deliveryDate,callback:function(a){e.$set(t.row,"deliveryDate",a)},expression:"scope.row.deliveryDate"}})]}}],null,!1,884554070)}):e._e(),e.setVisable("internet_remarks")?a("el-table-column",{attrs:{label:"备注",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入备注",size:"small",disabled:e.setDisable("internet_remarks")},model:{value:t.row.remarks,callback:function(a){e.$set(t.row,"remarks",a)},expression:"scope.row.remarks"}})]}}],null,!1,939774775)}):e._e(),e.setVisable("internet_delete")?a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small",disabled:e.setDisable("internet_delete")},on:{click:function(a){return e.deleteRow(t.row,3)}}},[e._v(" 移除 ")])]}}],null,!1,3734476226)}):e._e()],1)],1):e._e(),"third"==e.is_Show?a("div",{staticClass:"mt"},[a("div",{staticStyle:{"font-size":"12px","margin-bottom":"10px"}},[e._v("合计销售利润率(internet)(%)")]),a("div",[a("el-input",{attrs:{disabled:"",value:"0.00",size:"small"}})],1)]):e._e(),"fourth"==e.is_Show&&e.selected.includes("fourth")?a("div",[a("div",{staticClass:"addRow"},[e.setDisable("NonStandardProducts")?e._e():a("div",{staticClass:"el-icon-circle-plus-outline",on:{click:function(t){return e.addRow(4)}}})]),a("el-table",{staticClass:"table-fixed",staticStyle:{width:"100%"},attrs:{border:"","show-summary":"","summary-method":e.getSummaries,data:e.tableData.idcList,"header-cell-style":{"text-align":"center"}}},[e.setVisable("IDC_prodNo")?a("el-table-column",{attrs:{width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"idcList."+t.$index+".prodNo",rules:e.rules.idc_prodNo}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("IDC_prodNo")},model:{value:t.row.prodNo,callback:function(a){e.$set(t.row,"prodNo",a)},expression:"scope.row.prodNo"}},e._l(e.IDCPro_list,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)]}}],null,!1,2800152779)},[a("template",{slot:"header"},[e._v(" 关联产品"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("IDC_roomNo")?a("el-table-column",{attrs:{width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"idcList."+t.$index+".roomNo",rules:e.rules.roomNo}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("IDC_roomNo")},model:{value:t.row.roomNo,callback:function(a){e.$set(t.row,"roomNo",a)},expression:"scope.row.roomNo"}},e._l(e.roomList,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)]}}],null,!1,3211598201)},[a("template",{slot:"header"},[e._v(" 机房名称"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("IDC_frameNo")?a("el-table-column",{attrs:{width:"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"idcList."+t.$index+".frameNo",rules:e.rules.frameNo}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("IDC_frameNo")},model:{value:t.row.frameNo,callback:function(a){e.$set(t.row,"frameNo",a)},expression:"scope.row.frameNo"}},e._l(e.frameList,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)]}}],null,!1,4182246747)},[a("template",{slot:"header"},[e._v(" 机框"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("IDC_electricPower")?a("el-table-column",{attrs:{width:"180",prop:"electricPower"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"idcList."+t.$index+".electricPower",rules:e.rules.electricPower}},[a("el-input",{attrs:{placeholder:"请输入 电力（KVA）",size:"small",disabled:e.setDisable("IDC_electricPower")},model:{value:t.row.electricPower,callback:function(a){e.$set(t.row,"electricPower",a)},expression:"scope.row.electricPower"}})],1)]}}],null,!1,3563740549)},[a("template",{slot:"header"},[e._v(" 电力（KVA）"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("IDC_addr")?a("el-table-column",{attrs:{width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"idcList."+t.$index+".addr",rules:e.rules.idc_addr}},[a("el-input",{attrs:{placeholder:"请输入机房地址",size:"small",disabled:e.setDisable("IDC_addr")},model:{value:t.row.addr,callback:function(a){e.$set(t.row,"addr",a)},expression:"scope.row.addr"}})],1)]}}],null,!1,743309938)},[a("template",{slot:"header"},[e._v(" 机房地址"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("IDC_bandwidthType")?a("el-table-column",{attrs:{width:"170"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"idcList."+t.$index+".bandwidthType",rules:e.rules.bandwidthType}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"small",disabled:e.setDisable("IDC_bandwidthType")},model:{value:t.row.bandwidthType,callback:function(a){e.$set(t.row,"bandwidthType",a)},expression:"scope.row.bandwidthType"}},e._l(e.bandwidthList,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)]}}],null,!1,308717865)},[a("template",{slot:"header"},[e._v(" 带宽类型"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("IDC_ipCount")?a("el-table-column",{attrs:{width:"220",prop:"ipCount"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"idcList."+t.$index+".ipCount",rules:e.rules.idc_ipCount}},[a("el-input",{attrs:{placeholder:"请输入IP数量",size:"small",disabled:e.setDisable("IDC_ipCount")},model:{value:t.row.ipCount,callback:function(a){e.$set(t.row,"ipCount",a)},expression:"scope.row.ipCount"}})],1)]}}],null,!1,2988205089)},[a("template",{slot:"header"},[e._v(" IP数量"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("IDC_bandwidth")?a("el-table-column",{attrs:{width:"180",prop:"bandwidth"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"idcList."+t.$index+".bandwidth",rules:e.rules.idc_bandwidth}},[a("el-input",{attrs:{placeholder:"请输入带宽（Mbps）",size:"small",disabled:e.setDisable("IDC_bandwidth")},model:{value:t.row.bandwidth,callback:function(a){e.$set(t.row,"bandwidth",a)},expression:"scope.row.bandwidth"}})],1)]}}],null,!1,2906925233)},[a("template",{slot:"header"},[e._v(" 带宽（Mbps）"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("IDC_quantity")?a("el-table-column",{attrs:{width:"220",prop:"quantity"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"idcList."+t.$index+".quantity",rules:e.rules.idc_quantity}},[a("el-input",{attrs:{placeholder:"请输入数量",size:"small",disabled:e.setDisable("IDC_quantity")},model:{value:t.row.quantity,callback:function(a){e.$set(t.row,"quantity",a)},expression:"scope.row.quantity"}})],1)]}}],null,!1,1264392696)},[a("template",{slot:"header"},[e._v(" 数量"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("IDC_unitPrice")?a("el-table-column",{attrs:{width:"220",prop:"unitPrice"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"idcList."+t.$index+".unitPrice",rules:e.rules.idc_unitPrice}},[a("el-input",{attrs:{placeholder:"请输入 IDC 销售单价",size:"small",disabled:e.setDisable("IDC_unitPrice")},model:{value:t.row.unitPrice,callback:function(a){e.$set(t.row,"unitPrice",a)},expression:"scope.row.unitPrice"}})],1)]}}],null,!1,1943260869)},[a("template",{slot:"header"},[e._v(" IDC 销售单价（元/项/月）"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("IDC_oneTimeFee")?a("el-table-column",{attrs:{label:"IDC 一次性费用",width:"190",prop:"oneTimeFee"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入IDC 一次性费用",size:"small",disabled:e.setDisable("IDC_oneTimeFee")},model:{value:t.row.oneTimeFee,callback:function(a){e.$set(t.row,"oneTimeFee",a)},expression:"scope.row.oneTimeFee"}})]}}],null,!1,2108773364)}):e._e(),e.setVisable("IDC_oneTimeMgtFee")?a("el-table-column",{attrs:{label:"IDC 一次性费用管理价",width:"250",prop:"oneTimeMgtFee"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入IDC 一次性费用管理价",size:"small",disabled:e.setDisable("IDC_oneTimeMgtFee")},model:{value:t.row.oneTimeMgtFee,callback:function(a){e.$set(t.row,"oneTimeMgtFee",a)},expression:"scope.row.oneTimeMgtFee"}})]}}],null,!1,2359098756)}):e._e(),e.setVisable("IDC_salesPrice")?a("el-table-column",{attrs:{label:"IDC 销售价（元/月）",width:"250",prop:"salesPrice"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入IDC 销售价（元/月）",size:"small",disabled:e.setDisable("IDC_salesPrice")},model:{value:t.row.salesPrice,callback:function(a){e.$set(t.row,"salesPrice",a)},expression:"scope.row.salesPrice"}})]}}],null,!1,457757183)}):e._e(),e.setVisable("IDC_deliveryDate")?a("el-table-column",{attrs:{label:"交付截至日期",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",size:"small",disabled:e.setDisable("IDC_deliveryDate")},model:{value:t.row.deliveryDate,callback:function(a){e.$set(t.row,"deliveryDate",a)},expression:"scope.row.deliveryDate"}})]}}],null,!1,1665048771)}):e._e(),e.setVisable("IDC_remarks")?a("el-table-column",{attrs:{label:"备注",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入备注",size:"small",disabled:e.setDisable("IDC_remarks")},model:{value:t.row.remarks,callback:function(a){e.$set(t.row,"remarks",a)},expression:"scope.row.remarks"}})]}}],null,!1,902762882)}):e._e(),e.setVisable("IDC_delete")?a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small",disabled:e.setDisable("IDC_delete")},on:{click:function(a){return e.deleteRow(t.row,4)}}},[e._v(" 移除 ")])]}}],null,!1,485323344)}):e._e()],1)],1):e._e(),"fourth"==e.is_Show?a("div",{staticClass:"mt"},[a("div",{staticStyle:{"font-size":"12px","margin-bottom":"10px"}},[e._v("合计销售利润率(IDC)(%)")]),a("div",[a("el-input",{attrs:{disabled:"",value:"0.00",size:"small"}})],1)]):e._e(),"five"==e.is_Show&&e.selected.includes("five")?a("div",[a("div",{staticClass:"addRow"},[e.setDisable("NonStandardProducts")?e._e():a("div",{staticClass:"el-icon-circle-plus-outline",on:{click:function(t){return e.addRow(5)}}})]),a("el-table",{staticClass:"table-fixed",staticStyle:{width:"100%"},attrs:{border:"","show-summary":"","summary-method":e.getSummaries,data:e.tableData.srvList,"header-cell-style":{"text-align":"center"}}},[e.setVisable("service_unitPrice")?a("el-table-column",{attrs:{width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"srvList."+t.$index+".desc",rules:e.rules.desc}},[a("el-input",{attrs:{placeholder:"请输入服务描述",size:"small",disabled:e.setDisable("service_unitPrice")},model:{value:t.row.desc,callback:function(a){e.$set(t.row,"desc",a)},expression:"scope.row.desc"}})],1)]}}],null,!1,3356691765)},[a("template",{slot:"header"},[e._v(" 服务描述"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("service_unitPrice")?a("el-table-column",{attrs:{width:"180",prop:"unitPrice"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"srvList."+t.$index+".unitPrice",rules:e.rules.srv_unitPrice}},[a("el-input",{attrs:{placeholder:"请输入服务销售单价",size:"small",disabled:e.setDisable("service_unitPrice")},model:{value:t.row.unitPrice,callback:function(a){e.$set(t.row,"unitPrice",a)},expression:"scope.row.unitPrice"}})],1)]}}],null,!1,2846318228)},[a("template",{slot:"header"},[e._v(" 服务销售单价（元/月）"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("service_quantity")?a("el-table-column",{attrs:{label:"数量",width:"190",prop:"quantity"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入数量",size:"small",disabled:e.setDisable("service_quantity")},model:{value:t.row.quantity,callback:function(a){e.$set(t.row,"quantity",a)},expression:"scope.row.quantity"}})]}}],null,!1,2158670593)}):e._e(),e.setVisable("service_salesPrice")?a("el-table-column",{attrs:{label:"服务销售价（元/月）",width:"250",prop:"salesPrice"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入服务销售价",size:"small",disabled:e.setDisable("service_salesPrice")},model:{value:t.row.salesPrice,callback:function(a){e.$set(t.row,"salesPrice",a)},expression:"scope.row.salesPrice"}})]}}],null,!1,2981876619)}):e._e(),e.setVisable("service_oneTimeFee")?a("el-table-column",{attrs:{label:"一次性服务费销售价",width:"250",prop:"oneTimeFee"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入一次性服务费销售价",size:"small",disabled:e.setDisable("service_oneTimeFee")},model:{value:t.row.oneTimeFee,callback:function(a){e.$set(t.row,"oneTimeFee",a)},expression:"scope.row.oneTimeFee"}})]}}],null,!1,3342061300)}):e._e(),e.setVisable("service_deliveryDate")?a("el-table-column",{attrs:{label:"交付截至日期",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",size:"small",disabled:e.setDisable("service_deliveryDate")},model:{value:t.row.deliveryDate,callback:function(a){e.$set(t.row,"deliveryDate",a)},expression:"scope.row.deliveryDate"}})]}}],null,!1,384420944)}):e._e(),e.setVisable("service_remarks")?a("el-table-column",{attrs:{label:"备注",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入备注",size:"small",disabled:e.setDisable("service_remarks")},model:{value:t.row.remarks,callback:function(a){e.$set(t.row,"remarks",a)},expression:"scope.row.remarks"}})]}}],null,!1,1099871153)}):e._e(),e.setVisable("service_oneTimeMgtFee")?a("el-table-column",{attrs:{label:"一次性服务费管理价",width:"240",prop:"oneTimeMgtFee"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输一次性服务费管理价",size:"small",disabled:e.setDisable("service_oneTimeMgtFee")},model:{value:t.row.oneTimeMgtFee,callback:function(a){e.$set(t.row,"oneTimeMgtFee",a)},expression:"scope.row.oneTimeMgtFee"}})]}}],null,!1,2688910360)}):e._e(),e.setVisable("service_delete")?a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small",disabled:e.setDisable("service_delete")},on:{click:function(a){return e.deleteRow(t.row,5)}}},[e._v(" 移除 ")])]}}],null,!1,4027026850)}):e._e()],1)],1):e._e(),"five"==e.is_Show?a("div",{staticClass:"mt"},[a("div",{staticStyle:{"font-size":"12px","margin-bottom":"10px"}},[e._v("合计销售利润率(服务)(%)")]),a("div",[a("el-input",{attrs:{disabled:"",value:"0.00",size:"small"}})],1)]):e._e(),"six"==e.is_Show&&e.selected.includes("six")?a("div",[a("div",{staticClass:"addRow"},[e.setDisable("NonStandardProducts")?e._e():a("div",{staticClass:"el-icon-circle-plus-outline",on:{click:function(t){return e.addRow(6)}}})]),a("el-table",{staticClass:"table-fixed",staticStyle:{width:"100%"},attrs:{border:"","show-summary":"","summary-method":e.getSummaries,data:e.tableData.integrationList,"header-cell-style":{"text-align":"center"}}},[e.setVisable("integration_deviceModel")?a("el-table-column",{attrs:{width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"integrationList."+t.$index+".deviceModel",rules:e.rules.deviceModel}},[a("el-input",{attrs:{placeholder:"请输入设备型号",size:"small",disabled:e.setDisable("integration_deviceModel")},model:{value:t.row.deviceModel,callback:function(a){e.$set(t.row,"deviceModel",a)},expression:"scope.row.deviceModel"}})],1)]}}],null,!1,480779763)},[a("template",{slot:"header"},[e._v(" 设备型号"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("integration_desc")?a("el-table-column",{attrs:{width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"integrationList."+t.$index+".desc",rules:e.rules.int_desc}},[a("el-input",{attrs:{placeholder:"请输入产品描述",size:"small",disabled:e.setDisable("integration_desc")},model:{value:t.row.desc,callback:function(a){e.$set(t.row,"desc",a)},expression:"scope.row.desc"}})],1)]}}],null,!1,3576461443)},[a("template",{slot:"header"},[e._v(" 产品描述"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("integration_unitPrice")?a("el-table-column",{attrs:{width:"200",prop:"unitPrice"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"integrationList."+t.$index+".unitPrice",rules:e.rules.int_unitPrice}},[a("el-input",{attrs:{placeholder:"请输入集成销售单价",size:"small",disabled:e.setDisable("integration_unitPrice")},model:{value:t.row.unitPrice,callback:function(a){e.$set(t.row,"unitPrice",a)},expression:"scope.row.unitPrice"}})],1)]}}],null,!1,3513419360)},[a("template",{slot:"header"},[e._v(" 集成销售单价（元）"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("integration_quantity")?a("el-table-column",{attrs:{width:"180",prop:"quantity"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form-item",{attrs:{prop:"integrationList."+t.$index+".quantity",rules:e.rules.int_quantity}},[a("el-input",{attrs:{placeholder:"请输入数量",size:"small",disabled:e.setDisable("integration_quantity")},model:{value:t.row.quantity,callback:function(a){e.$set(t.row,"quantity",a)},expression:"scope.row.quantity"}})],1)]}}],null,!1,598542501)},[a("template",{slot:"header"},[e._v(" 数量"),a("span",{staticClass:"head-required"},[e._v("*")])])],2):e._e(),e.setVisable("integration_salesPrice")?a("el-table-column",{attrs:{label:"集成销售价",width:"250",prop:"salesPrice"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入集成销售价",size:"small",disabled:e.setDisable("integration_salesPrice")},model:{value:t.row.salesPrice,callback:function(a){e.$set(t.row,"salesPrice",a)},expression:"scope.row.salesPrice"}})]}}],null,!1,496167538)}):e._e(),e.setVisable("integration_deliveryDate")?a("el-table-column",{attrs:{label:"交付截至日期",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",size:"small",disabled:e.setDisable("integration_deliveryDate")},model:{value:t.row.deliveryDate,callback:function(a){e.$set(t.row,"deliveryDate",a)},expression:"scope.row.deliveryDate"}})]}}],null,!1,3927818355)}):e._e(),e.setVisable("integration_remarks")?a("el-table-column",{attrs:{label:"备注",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"请输入备注",size:"small",disabled:e.setDisable("integration_remarks")},model:{value:t.row.remarks,callback:function(a){e.$set(t.row,"remarks",a)},expression:"scope.row.remarks"}})]}}],null,!1,2614066354)}):e._e(),e.setVisable("integration_delete")?a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small",disabled:e.setDisable("integration_delete")},on:{click:function(a){return e.deleteRow(t.row,6)}}},[e._v(" 移除 ")])]}}],null,!1,1752396642)}):e._e()],1)],1):e._e(),"six"==e.is_Show?a("div",{staticClass:"mt "},[a("div",{staticStyle:{"font-size":"12px","margin-bottom":"10px"}},[e._v("合计销售利润率(集成)(%)")]),a("div",[a("el-input",{attrs:{disabled:"",value:"0.00",size:"small"}})],1)]):e._e()])],1)},u=[],d=(a("caad"),a("2532"),{props:{is_Show:{type:String,default:"first"},selected:{type:Array,default:[]},formValue:{type:Object,default:function(){return{}}},taskFormValue:{type:Object,default:function(){return{}}},flowAuthSettingList:{type:Array,default:function(){return[]}},isStart:{type:Boolean,default:!0},isDetail:{type:Boolean,default:!0}},data:function(){return{MplsIpsecPro_list:[],speialLinePro_list:[],InternetPro_list:[],IDCPro_list:[],operatorList:[],popList:[],aPortTypeList:[],zPortTypeList:[],portTypeList:[],upDownSymmetry:[],roomList:[],frameList:[],bandwidthList:[],tableData:{mplsIpsecList:[],specialLineList:[],internetList:[],idcList:[],srvList:[],integrationList:[]},mpls_tspm:null,sl_tspm:null,internet_tspm:null,IDC_tspm:null,service_tspm:null,integration_tspm:null,rules:{prodNo:[{required:!0,message:"请选择关联产品",trigger:"change"}],isp:[{required:!0,message:"请选择运营商",trigger:"change"}],addr:[{required:!0,message:"请输入接入地址",trigger:"blur"}],popNo:[{required:!0,message:"请选择接入PoP",trigger:"change"}],bandwidth:[{required:!0,message:"请输入带宽",trigger:"blur"}],unitPrice:[{required:!0,message:"请输入VPN销售单价",trigger:"blur"}],quantity:[{required:!0,message:"请输入数量（项）",trigger:"blur"}],oneTimeFee:[{required:!0,message:"请输入VPN一次性费用",trigger:"blur"}],s_prodNo:[{required:!0,message:"请选择关联产品",trigger:"change"}],s_isp:[{required:!0,message:"请选择运营商",trigger:"change"}],aAddr:[{required:!0,message:"请输入A端地址",trigger:"blur"}],aPortType:[{required:!0,message:"请选择A端端口类型",trigger:"change"}],zAddr:[{required:!0,message:"请输入Z端地址",trigger:"blur"}],zPortType:[{required:!0,message:"请选择Z端端口类型",trigger:"change"}],s_bandwidth:[{required:!0,message:"请输入带宽",trigger:"blur"}],s_quantity:[{required:!0,message:"请输入数量",trigger:"blur"}],s_oneTimeFee:[{required:!0,message:"请输入专线一次性费用",trigger:"blur"}],i_prodNo:[{required:!0,message:"请选择关联产品",trigger:"change"}],i_isp:[{required:!0,message:"请选择运营商",trigger:"change"}],i_addr:[{required:!0,message:"请输入站点地址",trigger:"blur"}],i_portType:[{required:!0,message:"请选择端口类型",trigger:"change"}],i_bandwidth:[{required:!0,message:"请输入带宽",trigger:"blur"}],ipCount:[{required:!0,message:"请输入IP数量",trigger:"blur"}],upDownSymmetry:[{required:!0,message:"请选择",trigger:"change"}],i_quantity:[{required:!0,message:"请输入数量",trigger:"blur"}],i_unitPrice:[{required:!0,message:"请输入 Internet 销售单价",trigger:"blur"}],idc_prodNo:[{required:!0,message:"请选择关联产品",trigger:"change"}],roomNo:[{required:!0,message:"请选择机房名称",trigger:"change"}],frameNo:[{required:!0,message:"请选择机框",trigger:"change"}],electricPower:[{required:!0,message:"请输入电力",trigger:"blur"}],idc_addr:[{required:!0,message:"请输入机房地址",trigger:"blur"}],bandwidthType:[{required:!0,message:"请选择宽带类型",trigger:"change"}],idc_ipCount:[{required:!0,message:"请输入IP数量",trigger:"blur"}],idc_bandwidth:[{required:!0,message:"请输入带宽(Mbps)",trigger:"blur"}],idc_quantity:[{required:!0,message:"请输入数量",trigger:"blur"}],idc_unitPrice:[{required:!0,message:"请输入IDC 销售单价",trigger:"blur"}],desc:[{required:!0,message:"请输入服务描述",trigger:"blur"}],srv_unitPrice:[{required:!0,message:"请输入服务销售单价",trigger:"blur"}],deviceModel:[{required:!0,message:"请输入设备型号",trigger:"blur"}],int_desc:[{required:!0,message:"请输入产品描述",trigger:"blur"}],int_unitPrice:[{required:!0,message:"请输入产品描述",trigger:"blur"}],int_quantity:[{required:!0,message:"请输入数量",trigger:"blur"}]}}},watch:{formValue:{handler:function(e){"{}"!==JSON.stringify(e)&&(this.tableData.mplsIpsecList=e.mplsIpsecList,this.tableData.specialLineList=e.specialLineList,this.tableData.internetLis=e.internetList,this.tableData.idcList=e.idcList,this.tableData.srvList=e.srvList,this.tableData.integrationList=e.integrationList)},deep:!0,immediate:!0},taskFormValue:{handler:function(e){"{}"!==JSON.stringify(e)&&(this.tableData.mplsIpsecList=e.mplsIpsecList,this.tableData.specialLineList=e.specialLineList,this.tableData.internetLis=e.internetList,this.tableData.idcList=e.idcList,this.tableData.srvList=e.srvList,this.tableData.integrationList=e.integrationList)},deep:!0,immediate:!0},flowAuthSettingList:{handler:function(e){},deep:!0,immediate:!0}},created:function(){var e=this;this.getDicts("mpls_ipsec_products").then((function(t){e.MplsIpsecPro_list=t.data})),this.getDicts("special_line_products").then((function(t){e.speialLinePro_list=t.data})),this.getDicts("Internet_products").then((function(t){e.InternetPro_list=t.data})),this.getDicts("idc_products").then((function(t){e.IDCPro_list=t.data})),this.getDicts("operator_list").then((function(t){e.operatorList=t.data})),this.getDicts("pop_list").then((function(t){e.popList=t.data})),this.getDicts("a_port_type").then((function(t){e.aPortTypeList=t.data})),this.getDicts("z_port_type").then((function(t){e.zPortTypeList=t.data})),this.getDicts("port_type").then((function(t){e.portTypeList=t.data})),this.getDicts("up_down_symmetry").then((function(t){e.upDownSymmetry=t.data})),this.getDicts("room_name").then((function(t){e.roomList=t.data})),this.getDicts("frame_type").then((function(t){e.frameList=t.data})),this.getDicts("bandwidth_type").then((function(t){e.bandwidthList=t.data}))},mounted:function(){},methods:{addRow:function(e){1==e?this.tableData.mplsIpsecList.push({key:Math.random(),prodNo:"",isp:"",addr:"",popNo:"",bandwidth:"",unitPrice:"",quantity:"",oneTimeFee:"",oneTimeMgtFee:"",salesPrice:"",deliveryDate:"",remarks:"",purchaseRemarks:""}):2==e?this.tableData.specialLineList.push({key:Math.random(),prodNo:"",isp:"",aAddr:"",aPortType:"",zAddr:"",zPortType:"",bandwidth:"",unitPrice:"",quantity:"",oneTimeFee:"",oneTimeMgtFee:"",salesPrice:"",deliveryDate:"",remarks:""}):3==e?this.tableData.internetList.push({key:Math.random(),prodNo:"",isp:"",addr:"",portType:"",bandwidth:"",ipCount:"",upDownSymmetry:"",quantity:"",unitPrice:"",oneTimeFee:"",oneTimeMgtFee:"",salesPrice:"",deliveryDate:"",remarks:""}):4==e?this.tableData.idcList.push({key:Math.random(),prodNo:"",roomNo:"",frameNo:"",electricPower:"",addr:"",bandwidthType:"",ipCount:"",bandwidth:"",quantity:"",unitPrice:"",oneTimeFee:"",oneTimeMgtFee:"",salesPrice:"",deliveryDate:"",remarks:""}):5==e?this.tableData.srvList.push({key:Math.random(),desc:"",unitPrice:"",quantity:"",salesPrice:"",oneTimeFee:"",oneTimeMgtFee:"",deliveryDate:"",remarks:""}):6==e&&this.tableData.integrationList.push({key:Math.random(),deviceModel:"",desc:"",unitPrice:"",quantity:"",salesPrice:"",deliveryDate:"",remarks:""})},deleteRow:function(e,t){1==t?this.tableData.mplsIpsecList=this.tableData.mplsIpsecList.filter((function(t){return t.key!=e.key})):2==t?this.tableData.specialLineList=this.tableData.specialLineList.filter((function(t){return t.key!=e.key})):3==t?this.tableData.internetList=this.tableData.internetList.filter((function(t){return t.key!=e.key})):4==t?this.tableData.idcList=this.tableData.idcList.filter((function(t){return t.key!=e.key})):5==t?this.tableData.srvList=this.tableData.srvList.filter((function(t){return t.key!=e.key})):6==t&&(this.tableData.integrationList=this.tableData.integrationList.filter((function(t){return t.key!=e.key})))},getSummaries:function(e){var t=this,a=e.columns,r=e.data,i=[];return a.forEach((function(e,a){var s=function(){var t=r.map((function(t){return Number(t[e.property])}));t.every((function(e){return isNaN(e)}))?i[a]="N/A":(i[a]=t.reduce((function(e,t){var a=Number(t);return isNaN(a)?e:e+t}),0),i[a]="合计: "+i[a])},n={first:[5,6,7,8,9],second:[6,7,8,9,10,11],third:[4,5,7,8,9,10,11],fourth:[3,6,7,8,9,10,11,12],five:[1,2,3,4,7],six:[2,3,4]};n[t.is_Show]&&n[t.is_Show].includes(a)&&s()})),i},setVisable:function(e){var t=!0;return this.flowAuthSettingList.forEach((function(a){e==a.widgetCode&&(t=a.viewable)})),t},setDisable:function(e){var t=!1;return this.isDetail?!t:this.isStart?t:(this.flowAuthSettingList.forEach((function(a){e==a.widgetCode&&(t=a.editable)})),!t)}}}),m=d,p=(a("dafd"),a("0c7c")),f=Object(p["a"])(m,c,u,!1,null,"7932fab6",null),b=f.exports,h=a("5fd5"),g={components:{nonStandardProForm:b},props:{formValue:{type:Object,default:function(){return{}}},taskFormValue:{type:Object,default:function(){return{}}},flowAuthSettingList:{type:Array,default:function(){return[]}},isStart:{type:Boolean,default:!0},isDetail:{type:Boolean,default:!0},detailType:{type:String,default:""},procDefId:{type:String,default:""},bizDetail:{type:Boolean,default:!1}},data:function(){return{loading:!1,btnVisable:!0,btnHidden:!0,associatedOrderVisible:!1,isShow:"first",selected:[],orderTypes:[],bizTypes:[],feepayTypes:[],currencyTypeList:[],preSalesList:[],customerList:[],associatedOrderList:[],portProductList:[],otherStardPro:[],popList:[],activeName:"first",tabList:[{label:"MPLS/IPSec",name:"first"},{label:"专线",name:"second"},{label:"Internet",name:"third"},{label:"IDC",name:"fourth"},{label:"服务",name:"five"},{label:"集成",name:"six"}],searchParams:{keywords:"",pageNo:1,pageSize:100},searchCustomer:{keywords:"",pageNo:1,pageSize:100},FormData:{title:"",orderType:"",bizType:"",orderId:"",customerNo:"",customerContacts:"",customerEmail:"",customerPhoneNo:"",preSalesId:"",involveNonStandard:"",remarks:"",portList:[],deviceList:[],standard_tspm:null,mplsIpsecList:[],specialLineList:[],internetList:[],idcList:[],srvList:[],integrationList:[],involveOtherFee:"",otherFeeDesc:"",otherFee:"",otherFeePayType:"",currencyType:"",serviceDuration:"",totalContractAmount:"",prdTypeList:[],customerName:""},rules:{title:[{required:!0,message:"请输入标题",trigger:"blur"}],orderType:[{required:!0,message:"请选择订单类型",trigger:"change"}],bizType:[{required:!0,message:"请选择业务类型",trigger:"change"}],orderId:[{required:!0,message:"请选择关联订单",trigger:"change"}],customerNo:[{required:!0,message:"请选择关联客户",trigger:"change"}],customerEmail:[{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],customerPhoneNo:[{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}],project:[{required:!0,message:"请选择项目",trigger:"change"}],preSalesId:[{required:!0,message:"请选择售前",trigger:"change"}],prdTypeList:[{required:!0,message:"请选择产品类型",trigger:"blur"}],involveNonStandard:[{required:!0,message:"请选择是否涉及非标产品",trigger:"change"}],involveOtherFee:[{required:!0,message:"请选择是否涉及其他费用",trigger:"change"}],otherFeeDesc:[{required:!0,message:"请输入费用说明",trigger:"blur"}],otherFee:[{required:!0,message:"请输入费用金额",trigger:"blur"}],otherFeePayType:[{required:!0,message:"请输入支付方式",trigger:"blur"}],currencyType:[{required:!0,message:"请输入结算货币",trigger:"change"}],serviceDuration:[{required:!0,message:"请输入服务期",trigger:"blur"}],siteAddr:[{required:!0,message:"请输入站点地址",trigger:"blur"}],portNo:[{required:!0,message:"请选择骨干网端口产品",trigger:"change"}],bandwidth:[{required:!0,message:"请输入带宽",trigger:"blur"}],quantity:[{required:!0,message:"请输入数量",trigger:"blur"}],oneTimeFee:[{required:!0,message:"请输入骨干网端口一次性费用",trigger:"blur"}],price:[{required:!0,message:"请输入骨干网端口销售价",trigger:"blur"}],deviceNo:[{required:!0,message:"请选择其他标准产品",trigger:"change"}],devSiteUrl:[{required:!0,message:"请输入站点地址",trigger:"blur"}],devAmount:[{required:!0,message:"请输入数量",trigger:"blur"}],devOneTimeCost:[{required:!0,message:"请输入其他标准产品一次性费用",trigger:"blur"}],devSalesPrice:[{required:!0,message:"请输入其他标准产品销售价格",trigger:"blur"}]}}},watch:{"FormData.prdTypeList":{handler:function(e,t){e&&(this.selected=e)},deep:!0,immediate:!0},"FormData.bizType":{handler:function(e,t){this.associatedOrderVisible=1==e||2==e||3==e||4==e||5==e}},formValue:{handler:function(e){"{}"!==JSON.stringify(e)&&(this.FormData=e,this.getProductPortOptions(),this.queryProductDeviceOptions(),this.isStart||(this.btnVisable=!1))},immediate:!0,deep:!0},taskFormValue:{handler:function(e){"{}"!==JSON.stringify(e)&&(this.FormData=e,this.btnHidden=!1)}},flowAuthSettingList:{handler:function(e){}},isDetail:{handler:function(e){e&&(this.btnVisable=!1)},deep:!0,immediate:!0}},created:function(){var e=this;this.getDicts("order_type").then((function(t){e.orderTypes=t.data})),this.getDicts("service_type").then((function(t){e.bizTypes=t.data})),this.getDicts("feepay_type").then((function(t){e.feepayTypes=t.data})),this.getDicts("currency_Type").then((function(t){e.currencyTypeList=t.data})),this.getDicts("pop_list").then((function(t){e.popList=t.data}))},mounted:function(){this.getProductPortOptions(),this.queryProductDeviceOptions(),this.getgetPreSalesList(),this.getCustomerList(),this.getAssociatedOrderList()},methods:{getgetPreSalesList:function(){var e=this;Object(s["f"])({roleKey:"pre_sale"}).then((function(t){e.preSalesList=t.data.list}))},getCustomerList:function(){var e=this;Object(h["c"])(this.searchCustomer).then((function(t){e.customerList=t.data}))},getAssociatedOrderList:function(){var e=this;Object(n["i"])(this.searchParams).then((function(t){e.associatedOrderList=t.data}))},getProductPortOptions:function(){var e=this;Object(l["a"])().then((function(t){t.data.forEach((function(e){e.children.forEach((function(e){delete e.children}))})),e.portProductList=t.data,e.portProductList.forEach((function(t){t.children.forEach((function(a){e.FormData.portList.forEach((function(e){a.value==e.portNo&&(e.portNo=[t.value,e.portNo])}))}))}))}))},queryProductDeviceOptions:function(){var e=this;Object(l["b"])().then((function(t){t.data.forEach((function(e){e.children.forEach((function(e){delete e.children}))})),e.otherStardPro=t.data,e.otherStardPro.forEach((function(t){t.children.forEach((function(a){e.FormData.deviceList.forEach((function(e){a.value==e.deviceNo&&(e.deviceNo=[t.value,e.deviceNo])}))}))}))}))},selectChange:function(e){var t=this;this.customerList.forEach((function(a){a.value==e&&(t.FormData.customerContacts=a.contacts,t.FormData.customerEmail=a.email,t.FormData.customerPhoneNo=a.phoneNo,t.FormData.customerName=a.label)}))},clearCustomerInfo:function(){this.FormData.customerContacts="",this.FormData.customerEmail="",this.FormData.customerPhoneNo=""},addRow:function(e){1==e?this.FormData.portList.push({key:Math.random(),portNo:"",siteAddr:"",bandwidth:"",popNo:"",quantity:"",oneTimeFee:"",oneTimeMgtFee:"",price:"",expDeliveryDate:"",remarks:""}):2==e&&this.FormData.deviceList.push({key:Math.random(),deviceNo:"",siteAddr:"",quantity:"",oneTimeFee:"",oneTimeMgtFee:"",price:"",devManageUnitPrice:"",devManagePrice:0,remarks:""})},deleteRow:function(e,t){1==t?this.FormData.portList=this.FormData.portList.filter((function(t){return t.key!=e.key})):2==t&&(this.FormData.deviceList=this.FormData.deviceList.filter((function(t){return t.key!=e.key})))},submitForm:function(e){var t=this;this.$nextTick((function(){void 0!==t.$refs.child&&(t.FormData.mplsIpsecList=t.$refs.child.tableData.mplsIpsecList,t.FormData.specialLineList=t.$refs.child.tableData.specialLineList,t.FormData.internetList=t.$refs.child.tableData.internetList,t.FormData.idcList=t.$refs.child.tableData.idcList,t.FormData.srvList=t.$refs.child.tableData.srvList,t.FormData.integrationList=t.$refs.child.tableData.integrationList),t.loading=!0,t.$refs[e].validate((function(e){if(!e)return t.loading=!1,!1;t.FormData.portList.forEach((function(e){e.portNo=e.portNo[1]})),t.FormData.deviceList.forEach((function(e){e.deviceNo=e.deviceNo[1]})),Object(o["b"])(t.$route.query.procDefId?t.$route.query.procDefId:t.procDefId,t.FormData).then((function(e){t.loading=!1,t.msgSuccess("流程发起成功"),t.$store.dispatch("tagsView/delView",t.$route),t.$router.push("/task/myProcess")})).catch((function(e){t.loading=!1}))}))}))},resetForm:function(e){this.$refs[e].resetFields()},handleClick:function(e){this.isShow=e.name},getSummaries:function(e){var t=e.columns,a=e.data,r=[];return t.forEach((function(e,t){if(5===t||6===t||7===t){var i=a.map((function(t){return Number(t[e.property])}));i.every((function(e){return isNaN(e)}))?r[t]="N/A":(r[t]=i.reduce((function(e,t){var a=Number(t);return isNaN(a)?e:e+t}),0),r[t]="合计: "+r[t])}})),r},getSummaries2:function(e){var t=e.columns,a=e.data,r=[];return t.forEach((function(e,t){if(2===t||3===t||4===t||5===t||6===t||7===t){var i=a.map((function(t){return Number(t[e.property])}));i.every((function(e){return isNaN(e)}))?r[t]="N/A":(r[t]=i.reduce((function(e,t){var a=Number(t);return isNaN(a)?e:e+t}),0),r[t]="合计: "+r[t])}})),r},remoteMethod:function(e,t){"order"==t?(this.searchParams.keywords=e,this.getAssociatedOrderList()):"customer"==t&&(this.searchCustomer.keywords=e,this.getCustomerList())},setVisable:function(e){var t=!0;return 0===this.flowAuthSettingList.length&&"allProcess"!==this.detailType&&!0!==this.isStart?!t:(this.flowAuthSettingList.forEach((function(a){e==a.widgetCode&&(t=a.viewable)})),t)},setDisable:function(e){var t=!1;return this.isDetail?!t:this.isStart?t:(this.flowAuthSettingList.forEach((function(a){e==a.widgetCode&&(t=a.editable)})),!t)}}},v=g,_=(a("e779"),Object(p["a"])(v,r,i,!1,null,"1f50692e",null));t["a"]=_.exports},ffbd:function(e,t,a){}}]);