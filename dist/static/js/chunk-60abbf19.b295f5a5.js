(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-60abbf19"],{"13d5":function(t,e,r){"use strict";var n=r("23e7"),o=r("d58f").left,a=r("a640"),u=r("ae40"),s=r("2d00"),i=r("605d"),c=a("reduce"),f=u("reduce",{1:0}),d=!i&&s>79&&s<83;n({target:"Array",proto:!0,forced:!c||!f||d},{reduce:function(t){return o(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},1538:function(t,e,r){"use strict";r.d(e,"h",(function(){return o})),r.d(e,"f",(function(){return a})),r.d(e,"b",(function(){return u})),r.d(e,"g",(function(){return s})),r.d(e,"n",(function(){return i})),r.d(e,"o",(function(){return c})),r.d(e,"k",(function(){return f})),r.d(e,"j",(function(){return d})),r.d(e,"e",(function(){return l})),r.d(e,"l",(function(){return m})),r.d(e,"a",(function(){return p})),r.d(e,"m",(function(){return h})),r.d(e,"c",(function(){return b})),r.d(e,"d",(function(){return y})),r.d(e,"i",(function(){return j}));var n=r("b775");function o(t){return Object(n["a"])({url:"/flowable/definition/list",method:"get",params:t})}function a(t){return Object(n["a"])({url:"/flowable/definition/info/by-deploy-id",method:"get",params:{deployId:t}})}function u(t,e){return Object(n["a"])({url:"/flowable/definition/start/"+t,method:"post",data:e})}function s(t){return Object(n["a"])({url:"/flowable/task/processVariables/"+t,method:"get"})}function i(t){return Object(n["a"])({url:"/flowable/definition/updateState",method:"put",params:t})}function c(t){return Object(n["a"])({url:"/flowable/definition/userList",method:"get",params:t})}function f(t){return Object(n["a"])({url:"/flowable/definition/roleList",method:"get",params:t})}function d(t){return Object(n["a"])({url:"/flowable/definition/readXml/"+t,method:"get"})}function l(t){return Object(n["a"])({url:"/flowable/task/flowViewer/"+t,method:"get"})}function m(t){return Object(n["a"])({url:"/flowable/definition/save",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},data:t})}function p(t){return Object(n["a"])({url:"/system/deployment",method:"post",data:t})}function h(t){return Object(n["a"])({url:"/system/deployment",method:"put",data:t})}function b(t){return Object(n["a"])({url:"/flowable/definition/"+t,method:"delete"})}function y(t){return Object(n["a"])({url:"/system/deployment/export",method:"get",params:t})}function j(t){return Object(n["a"])({url:"/flowable/definition/deploy-to-def-id",method:"get",params:t})}},2638:function(t,e,r){"use strict";function n(){return n=Object.assign||function(t){for(var e,r=1;r<arguments.length;r++)for(var n in e=arguments[r],e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},n.apply(this,arguments)}var o=["attrs","props","domProps"],a=["class","style","directives"],u=["on","nativeOn"],s=function(t){return t.reduce((function(t,e){for(var r in e)if(t[r])if(-1!==o.indexOf(r))t[r]=n({},t[r],e[r]);else if(-1!==a.indexOf(r)){var s=t[r]instanceof Array?t[r]:[t[r]],c=e[r]instanceof Array?e[r]:[e[r]];t[r]=s.concat(c)}else if(-1!==u.indexOf(r))for(var f in e[r])if(t[r][f]){var d=t[r][f]instanceof Array?t[r][f]:[t[r][f]],l=e[r][f]instanceof Array?e[r][f]:[e[r][f]];t[r][f]=d.concat(l)}else t[r][f]=e[r][f];else if("hook"==r)for(var m in e[r])t[r][m]=t[r][m]?i(t[r][m],e[r][m]):e[r][m];else t[r]=e[r];else t[r]=e[r];return t}),{})},i=function(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}};t.exports=s},"367e":function(t,e,r){},"3ab9":function(t,e,r){"use strict";r.d(e,"f",(function(){return o})),r.d(e,"k",(function(){return a})),r.d(e,"c",(function(){return u})),r.d(e,"n",(function(){return s})),r.d(e,"a",(function(){return i})),r.d(e,"d",(function(){return c})),r.d(e,"e",(function(){return f})),r.d(e,"j",(function(){return d})),r.d(e,"i",(function(){return l})),r.d(e,"g",(function(){return m})),r.d(e,"l",(function(){return p})),r.d(e,"m",(function(){return h})),r.d(e,"h",(function(){return b}));var n=r("b775");function o(t){return Object(n["a"])({url:"/flowable/form/list",method:"get",params:t})}function a(t){return Object(n["a"])({url:"/flowable/form/"+t,method:"get"})}function u(t){return Object(n["a"])({url:"/flowable/form",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/flowable/form",method:"put",data:t})}function i(t){return Object(n["a"])({url:"/flowable/form/addDeployForm",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/flowable/form/"+t,method:"delete"})}function f(t){return Object(n["a"])({url:"/flowable/form/export",method:"get",params:t})}function d(t){return Object(n["a"])({url:"/system/customer/option-list",method:"get",params:t})}function l(t){return Object(n["a"])({url:"/system/order/drop-down-list",method:"get",params:t})}function m(t){return Object(n["a"])({url:"/system/impl/order/related/info",method:"get",params:t})}function p(t){return Object(n["a"])({url:"/system/order/info",method:"get",params:t})}function h(t){return Object(n["a"])({url:"/system/order/customer/unbound-contract/order/drop-down-list",method:"get",params:t})}function b(t){return Object(n["a"])({url:"/system/config/ags-company/drop-down-list",method:"get",params:t})}},"589b":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("bpmn-modeler",{ref:"refNode",attrs:{xml:t.xmlData,"is-view":!0,taskList:t.taskData}})],1)},o=[],a=r("ae3a"),u={name:"Flow",components:{bpmnModeler:a["a"]},props:{xmlData:{type:String,default:""},taskData:{type:Array,default:function(){return[]}}},data:function(){return{}}},s=u,i=r("0c7c"),c=Object(i["a"])(s,n,o,!1,null,null,null);e["default"]=c.exports},"5fd5":function(t,e,r){"use strict";r.d(e,"d",(function(){return o})),r.d(e,"e",(function(){return a})),r.d(e,"a",(function(){return u})),r.d(e,"f",(function(){return s})),r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return c}));var n=r("b775");function o(t){return Object(n["a"])({url:"/system/customer/list",method:"get",params:t})}function a(t){return Object(n["a"])({url:"/system/sale/customer/list",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/system/customer/create",method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},data:t})}function s(t){return Object(n["a"])({url:"/system/customer/update",method:"put",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},data:t})}function i(t){return Object(n["a"])({url:"/system/customer/delete",method:"delete",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},params:t})}function c(t){return Object(n["a"])({url:"/system/customer/sale-customers",method:"get",params:t})}},6881:function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return a}));var n=r("b775");function o(){return Object(n["a"])({url:"/system/product/port/options",method:"get",params:{}})}function a(){return Object(n["a"])({url:"/system/product/device/options",method:"get",params:{}})}},"6e55":function(t,e,r){"use strict";r.d(e,"g",(function(){return o})),r.d(e,"f",(function(){return a})),r.d(e,"e",(function(){return u})),r.d(e,"h",(function(){return s})),r.d(e,"d",(function(){return i})),r.d(e,"a",(function(){return c})),r.d(e,"i",(function(){return f})),r.d(e,"b",(function(){return d})),r.d(e,"c",(function(){return l}));var n=r("b775");r("3fd3");function o(t){return Object(n["a"])({url:"/flowable/task/finishedList",method:"get",params:t})}function a(t){return Object(n["a"])({url:"/flowable/task/flowRecord",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/flowable/task/form",method:"get",params:t})}function s(t){return Object(n["a"])({url:"/flowable/task/revokeProcess",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/system/deployment/"+t,method:"get"})}function c(t){return Object(n["a"])({url:"/system/deployment",method:"post",data:t})}function f(t){return Object(n["a"])({url:"/system/deployment",method:"put",data:t})}function d(t){return Object(n["a"])({url:"/system/deployment/"+t,method:"delete"})}function l(t){return Object(n["a"])({url:"/system/deployment/export",method:"get",params:t})}},"7ad6":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container"},[r("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"表单信息",name:"first"}},[r("span",{attrs:{slot:"label"},slot:"label"},[r("span",{staticClass:"el-icon-document"},[t._v("表单信息")])]),r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("el-button",{staticStyle:{float:"right"},attrs:{size:"small",type:"primary"},on:{click:t.goBack}},[t._v("返回")])],1),r("el-col",{attrs:{span:20,offset:2}},[0==t.isShow?r("div",{staticClass:"test-form"},[r("parser",{key:(new Date).getTime(),attrs:{"form-conf":t.formConf},on:{submit:t.submitForm}})],1):t._e(),1==t.isShow?r("div",{staticClass:"static-form"},[r("orderForm",{attrs:{isStart:t.isStart,isDetail:t.isDetail,formValue:t.formData,procDefId:t.procDefId}})],1):t._e(),2==t.isShow?r("div",{staticClass:"static-form"},[r("contractForm",{attrs:{isStart:t.isStart,isDetail:t.isDetail,formValue:t.formData,procDefId:t.procDefId}})],1):t._e(),3==t.isShow?r("div",{staticClass:"static-form"},[r("implForm",{attrs:{isStart:t.isStart,isDetail:t.isDetail,formValue:t.formData,procDefId:t.procDefId}})],1):t._e()])],1)],1),r("el-tab-pane",{attrs:{label:"流程图",name:"second"}},[r("span",{attrs:{slot:"label"},slot:"label"},[r("span",{staticClass:"el-icon-picture-outline"},[t._v("流程图")])]),r("el-card",{staticClass:"box-card"},["second"==t.activeName?r("flow",{attrs:{xmlData:t.xmlData,taskData:t.taskList}}):t._e()],1)],1)],1)],1)},o=[],a=r("6e55"),u=r("9f75"),s=r("1538"),i=r("589b"),c=r("fd31"),f=r("872a"),d=r("319d"),l={name:"StartTask",components:{Parser:u["a"],flow:i["default"],orderForm:c["a"],contractForm:f["a"],implForm:d["a"]},props:{},data:function(){return{deployId:null,procDefId:null,taskId:null,formConf:{},formData:{},xmlData:"",taskList:[],isShow:0,isStart:!0,isDetail:!1,activeName:"first"}},created:function(){this.isNull(this.$route.query.formType)||(this.isShow=this.$route.query.formType)},mounted:function(){var t=this;this.deployId=this.$route.query&&this.$route.query.deployId,this.procDefId=this.$route.query&&this.$route.query.procDefId,this.getProcDefInfo(this.deployId),this.getFlowFrm(this.deployId),this.getModelDetail(this.deployId),this.taskId=this.$route.query&&this.$route.query.taskId,this.isNull(this.taskId)||Object(s["g"])(this.taskId).then((function(e){t.formConf=e.data.variables,t.formData=e.data})).catch((function(){t.$message.error(err.message)}))},methods:{getModelDetail:function(t){var e=this;Object(s["j"])(t).then((function(t){e.xmlData=t.data})).catch((function(t){e.$message.error(err.message)}))},getFlowFrm:function(t){var e=this;if(null!=t){var r={deployId:t};Object(a["e"])(r).then((function(t){e.formConf=t.data})).catch((function(t){e.goBack()}))}},goBack:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.go(-1)},submitForm:function(t){var e=this;if(t){var r=t.valData,n=t.formData;n.disabled=!0,n.formBtns=!1,this.procDefId&&(r.variables=n,Object(s["b"])(this.procDefId,JSON.stringify(r)).then((function(t){e.msgSuccess(t.msg),e.goBack()})).catch((function(){e.$message.error(err.message)})))}},getProcDefInfo:function(t){var e=this,r=this;Object(s["f"])(t).then((function(t){e.isNull(r.procDefId)&&(r.procDefId=t.data.id),e.isNull(e.$route.query.formType)&&(r.isShow=t.data.formType)}))},handleClick:function(t,e){}}},m=l,p=(r("a7bf"),r("0c7c")),h=Object(p["a"])(m,n,o,!1,null,"3cacecd9",null);e["default"]=h.exports},9977:function(t,e,r){var n={"./el-button.js":"aace","./el-checkbox-group.js":"9413","./el-input.js":"167d","./el-radio-group.js":"2cfa","./el-select.js":"7f29","./el-upload.js":"0f88"};function o(t){var e=a(t);return r(e)}function a(t){if(!r.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=a,t.exports=o,o.id="9977"},a7bf:function(t,e,r){"use strict";r("367e")},c0c7:function(t,e,r){"use strict";r.d(e,"i",(function(){return a})),r.d(e,"e",(function(){return u})),r.d(e,"a",(function(){return s})),r.d(e,"k",(function(){return i})),r.d(e,"c",(function(){return c})),r.d(e,"d",(function(){return f})),r.d(e,"j",(function(){return d})),r.d(e,"b",(function(){return l})),r.d(e,"g",(function(){return m})),r.d(e,"l",(function(){return p})),r.d(e,"m",(function(){return h})),r.d(e,"n",(function(){return b})),r.d(e,"h",(function(){return y})),r.d(e,"f",(function(){return j}));var n=r("b775"),o=r("c38a");function a(t){return Object(n["a"])({url:"/system/user/list",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/system/user/"+Object(o["f"])(t),method:"get"})}function s(t){return Object(n["a"])({url:"/system/user",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/system/user",method:"put",data:t})}function c(t){return Object(n["a"])({url:"/system/user/"+t,method:"delete"})}function f(t){return Object(n["a"])({url:"/system/user/export",method:"get",params:t})}function d(t,e){var r={userId:t,password:e};return Object(n["a"])({url:"/system/user/resetPwd",method:"put",data:r})}function l(t,e){var r={userId:t,status:e};return Object(n["a"])({url:"/system/user/changeStatus",method:"put",data:r})}function m(){return Object(n["a"])({url:"/system/user/profile",method:"get"})}function p(t){return Object(n["a"])({url:"/system/user/profile",method:"put",data:t})}function h(t,e){var r={oldPassword:t,newPassword:e};return Object(n["a"])({url:"/system/user/profile/updatePwd",method:"put",params:r})}function b(t){return Object(n["a"])({url:"/system/user/profile/avatar",method:"post",data:t})}function y(){return Object(n["a"])({url:"/system/user/importTemplate",method:"get"})}function j(t){return Object(n["a"])({url:"/system/user/role-user/drop-down-list",method:"get",params:t})}},d58f:function(t,e,r){var n=r("1c0b"),o=r("7b0b"),a=r("44ad"),u=r("50c4"),s=function(t){return function(e,r,s,i){n(r);var c=o(e),f=a(c),d=u(c.length),l=t?d-1:0,m=t?-1:1;if(s<2)while(1){if(l in f){i=f[l],l+=m;break}if(l+=m,t?l<0:d<=l)throw TypeError("Reduce of empty array with no initial value")}for(;t?l>=0:d>l;l+=m)l in f&&(i=r(i,f[l],l,c));return i}};t.exports={left:s(!1),right:s(!0)}}}]);